import{r as n,Z as Zt}from"./index-4696ae0f.js";const dt="carousel",ft="controller",qt="navigation",Qt="no-scroll",Fe="portal",Jt="root",pt="toolbar",so="captions",lo="counter",ao="download",uo="fullscreen",fo="inline",po="share",ho="slideshow",mo="thumbnails",vo="zoom",Ee="loading",en="playing",ge="error",_e="complete",tn="placeholder",ce=e=>`active-slide-${e}`,Eo=ce(Ee),go=ce(en),_o=ce(ge),xo=ce(_e),Lo="fullsize",ht="flex_center",nn="no_scroll",mt="no_scroll_padding",on="slide_wrapper",j="prev",Z="next",Je="swipe",te="close",vt="onPointerDown",Et="onPointerMove",gt="onPointerUp",_t="onPointerLeave",xt="onPointerCancel",Lt="onKeyDown",rn="onKeyUp",Pt="onWheel",cn="Escape",sn="ArrowLeft",ln="ArrowRight",an="button",We="icon",bt="contain",et="cover",un="Unknown action type",Ct="yarl__";function G(...e){return[...e].filter(Boolean).join(" ")}function w(e){return`${Ct}${e}`}function U(e){return`--${Ct}${e}`}function se(e,t){return`${e}${t?`_${t}`:""}`}function He(e){return t=>se(e,t)}function dn(e,t){var o;return(o=e==null?void 0:e[t])!==null&&o!==void 0?o:t}function Nt(...e){return()=>{e.forEach(t=>{t()})}}function q(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function Be(){return typeof window<"u"}function fn(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function wt(e){return e.type===void 0||e.type==="image"}function pn(e,t){return e.imageFit===et||e.imageFit!==bt&&t===et}function Pe(e){return typeof e=="string"?Number.parseInt(e,10):e}function Le(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Pe(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function hn(e,t){const o=Le(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function Po(){return(Be()?window==null?void 0:window.devicePixelRatio:void 0)||1}function It(e,t){return t>0?(e%t+t)%t:0}function St(e){return e.length>0}function Ot(e,t){return e[It(t,e.length)]}function Ue(e,t){return St(e)?Ot(e,t):void 0}function mn(e){return wt(e)?e.src:void 0}function bo(e,t,o){if(!o)return e;const{buttons:r,...i}=e,s=r.findIndex(l=>l===t),c=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(s>=0){const l=[...r];return l.splice(s,1,c),{buttons:l,...i}}return{buttons:[c,...r],...i}}function Co(){const e=t=>{t.stopPropagation()};return{onPointerDown:e,onKeyDown:e,onWheel:e}}function vn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const Ve={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[te]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:bt,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function Q(e,t){return{name:e,component:t}}function M(e,t){return{module:e,children:t}}function Rt(e,t,o){return e.module.name===t?o(e):e.children?[M(e.module,e.children.flatMap(r=>{var i;return(i=Rt(r,t,o))!==null&&i!==void 0?i:[]}))]:[e]}function ee(e,t,o){return e.flatMap(r=>{var i;return(i=Rt(r,t,o))!==null&&i!==void 0?i:[]})}function En(e,t=[],o=[]){let r=e;const i=m=>{const p=[...r];for(;p.length>0;){const u=p.pop();if((u==null?void 0:u.module.name)===m)return!0;u!=null&&u.children&&p.push(...u.children)}return!1},s=(m,p)=>{if(m===""){r=[M(p,r)];return}r=ee(r,m,u=>[M(p,[u])])},c=(m,p)=>{r=ee(r,m,u=>[M(u.module,[M(p,u.children)])])},l=(m,p,u)=>{r=ee(r,m,E=>{var L;return[M(E.module,[...u?[M(p)]:[],...(L=E.children)!==null&&L!==void 0?L:[],...u?[]:[M(p)]])]})},f=(m,p,u)=>{r=ee(r,m,E=>[...u?[M(p)]:[],E,...u?[]:[M(p)]])},d=m=>{c(ft,m)},h=(m,p)=>{r=ee(r,m,u=>[M(p,u.children)])},v=m=>{r=ee(r,m,p=>p.children)},x=m=>{o.push(m)};return t.forEach(m=>{m({contains:i,addParent:s,append:c,addChild:l,addSibling:f,addModule:d,replace:h,remove:v,augment:x})}),{config:r,augmentation:m=>o.reduce((p,u)=>u(p),m)}}const yt=n.createContext(null),Tt=q("useDocument","DocumentContext",yt);function gn({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=s=>{var c;return((c=s||e.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var c;return((c=r(s))===null||c===void 0?void 0:c.defaultView)||window}}},[e]);return n.createElement(yt.Provider,{value:o},t)}const Mt=n.createContext(null),be=q("useEvents","EventsContext",Mt);function _n({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(c,l)=>{var f;(f=t[c])===null||f===void 0||f.splice(0,t[c].length,...t[c].filter(d=>d!==l))};return{publish:(...[c,l])=>{var f;(f=t[c])===null||f===void 0||f.forEach(d=>d(l))},subscribe:(c,l)=>(t[c]||(t[c]=[]),t[c].push(l),()=>r(c,l)),unsubscribe:r}},[t]);return n.createElement(Mt.Provider,{value:o},e)}const At=n.createContext(null),le=q("useLightboxProps","LightboxPropsContext",At);function xn({children:e,...t}){return n.createElement(At.Provider,{value:t},e)}const Dt=n.createContext(null),Ce=q("useLightboxState","LightboxStateContext",Dt),kt=n.createContext(null),Ln=q("useLightboxDispatch","LightboxDispatchContext",kt);function Pn(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,s=It(i,o.length),c=Ue(o,s),l=r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:i,currentSlide:c,animation:l}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:Ue(t.slides,t.index)}:e;default:throw new Error(un)}}function bn({slides:e,index:t,children:o}){const[r,i]=n.useReducer(Pn,{slides:e,currentIndex:t,globalIndex:t,currentSlide:Ue(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return n.createElement(kt.Provider,{value:i},n.createElement(Dt.Provider,{value:s},o))}const Wt=n.createContext(null),Ne=q("useTimeouts","TimeoutsContext",Wt);function Cn({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=c=>{t.splice(0,t.length,...t.filter(l=>l!==c))};return{setTimeout:(c,l)=>{const f=window.setTimeout(()=>{r(f),c()},l);return t.push(f),f},clearTimeout:c=>{c!==void 0&&(r(c),window.clearTimeout(c))}}},[t]);return n.createElement(Wt.Provider,{value:o},e)}const Ut=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:i,onClick:s,style:c,...l},f){const{styles:d,labels:h}=le();return n.createElement("button",{ref:f,type:"button","aria-label":dn(h,t),className:G(w(an),o),onClick:s,style:{...c,...d.button},...l},i?i():n.createElement(r,{className:w(We),style:d.icon}))});function Vt(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function ae(e,t){return Vt(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function No(e,t){return Vt(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const Nn=ae("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),wn=ae("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),In=ae("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Sn=ae("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),On=ae("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),ue=Be()?n.useLayoutEffect:n.useEffect;function $t(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const i=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=c=>t(c.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",s),()=>{var c;return(c=i==null?void 0:i.removeEventListener)===null||c===void 0?void 0:c.call(i,"change",s)}},[]),e}function Rn(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const c=s[1].split(",").map(Pe);c.length===6?(t=c[4],o=c[5]):c.length===16&&(t=c[12],o=c[13],r=c[14])}return{x:t,y:o,z:r}}function tt(e,t){const o=n.useRef(),r=n.useRef(),i=$t();return ue(()=>{var s,c,l;if(e.current&&o.current!==void 0&&!i){const{keyframes:f,duration:d,easing:h,onfinish:v}=t(o.current,e.current.getBoundingClientRect(),Rn(e.current))||{};if(f&&d){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(l=(c=e.current).animate)===null||l===void 0?void 0:l.call(c,f,{duration:d,easing:h})}catch(x){console.error(x)}r.current&&(r.current.onfinish=()=>{r.current=void 0,v==null||v()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Ft(){const e=n.useRef(null),t=n.useRef(),[o,r]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const c=()=>{if(s){const l=window.getComputedStyle(s),f=d=>parseFloat(d)||0;r({width:Math.round(s.clientWidth-f(l.paddingLeft)-f(l.paddingRight)),height:Math.round(s.clientHeight-f(l.paddingTop)-f(l.paddingBottom))})}else r(void 0)};c(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(c),t.current.observe(s))},[]),containerRef:e,containerRect:o}}function xe(){const e=n.useRef(),{setTimeout:t,clearTimeout:o}=Ne();return n.useCallback((r,i)=>{o(e.current),e.current=t(r,i>0?i:0)},[t,o])}function T(e){const t=n.useRef(e);return ue(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function nt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function $e(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{nt(e,o),nt(t,o)},[e,t])}function yn(e,t=!1){const o=n.useRef();ue(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),i=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:i}}function ze(){const[e,t]=n.useState(!1);return ue(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Tn(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var c;(c=e[i])===null||c===void 0||c.forEach(l=>{s.isPropagationStopped()||l(s)})},[e]),o=n.useMemo(()=>({onPointerDown:i=>t(vt,i),onPointerMove:i=>t(Et,i),onPointerUp:i=>t(gt,i),onPointerLeave:i=>t(_t,i),onPointerCancel:i=>t(xt,i),onKeyDown:i=>t(Lt,i),onKeyUp:i=>t(rn,i),onWheel:i=>t(Pt,i)}),[t]),r=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const c=e[i];c&&c.splice(0,c.length,...c.filter(l=>l!==s))}),[e]);return{registerSensors:o,subscribeSensors:r}}function ot(e,t){const o=n.useRef(0),r=xe(),i=T((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{i(s)},t-(Date.now()-o.current))},[t,i,r])}const Ae=He("slide"),De=He("slide_image");function Mn({slide:e,offset:t,render:o,rect:r,imageFit:i,imageProps:s,onClick:c,onLoad:l,onError:f,style:d}){var h,v,x,m,p,u,E;const[L,C]=n.useState(Ee),{publish:R}=be(),{setTimeout:V}=Ne(),N=n.useRef(null);n.useEffect(()=>{t===0&&R(ce(L))},[t,L,R]);const P=T(b=>{("decode"in b?b.decode():Promise.resolve()).catch(()=>{}).then(()=>{b.parentNode&&(C(_e),V(()=>{l==null||l(b)},0))})}),S=n.useCallback(b=>{N.current=b,b!=null&&b.complete&&P(b)},[P]),A=n.useCallback(b=>{P(b.currentTarget)},[P]),g=T(()=>{C(ge),f==null||f()}),_=pn(e,i),I=(b,X)=>Number.isFinite(b)?b:X,F=I(Math.max(...((v=(h=e.srcSet)===null||h===void 0?void 0:h.map(b=>b.width))!==null&&v!==void 0?v:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((x=N.current)===null||x===void 0?void 0:x.naturalWidth)||0),k=I(Math.max(...((p=(m=e.srcSet)===null||m===void 0?void 0:m.map(b=>b.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((u=N.current)===null||u===void 0?void 0:u.naturalHeight)||0),J=F&&k?{maxWidth:`min(${F}px, 100%)`,maxHeight:`min(${k}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},y=(E=e.srcSet)===null||E===void 0?void 0:E.sort((b,X)=>b.width-X.width).map(b=>`${b.src} ${b.width}w`).join(", "),we=()=>r&&!_&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,H=y&&r&&Be()?`${Math.round(Math.min(we(),r.width))}px`:void 0,{style:fe,className:Ie,...Se}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:S,onLoad:A,onError:g,onClick:c,draggable:!1,className:G(w(De()),_&&w(De("cover")),L!==_e&&w(De("loading")),Ie),style:{...J,...d,...fe},...Se,alt:e.alt,sizes:H,srcSet:y,src:e.src}),L!==_e&&n.createElement("div",{className:w(Ae(tn))},L===Ee&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Sn,{className:G(w(We),w(Ae(Ee)))})),L===ge&&(o!=null&&o.iconError?o.iconError():n.createElement(On,{className:G(w(We),w(Ae(ge)))}))))}const An=n.forwardRef(function({className:t,children:o,...r},i){const s=n.useRef(null);return n.createElement(gn,{nodeRef:s},n.createElement("div",{ref:$e(i,s),className:G(w("root"),t),...r},o))});var D;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(D||(D={}));function Dn(e,t,o,r,i){n.useEffect(()=>i?()=>{}:Nt(e(vt,t),e(Et,o),e(gt,r),e(_t,r),e(xt,r)),[e,t,o,r,i])}var B;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(B||(B={}));const ke=30;function kn(e,t,o,r,i,s,c,l,f,d,h,v,x,m){const p=n.useRef(0),u=n.useRef([]),E=n.useRef(),L=n.useRef(0),C=n.useRef(B.NONE),R=n.useCallback(g=>{E.current===g.pointerId&&(E.current=void 0,C.current=B.NONE);const _=u.current;_.splice(0,_.length,..._.filter(I=>I.pointerId!==g.pointerId))},[]),V=n.useCallback(g=>{R(g),g.persist(),u.current.push(g)},[R]),N=T(g=>{V(g)}),P=(g,_)=>d&&g>_||f&&g<-_,S=T(g=>{if(u.current.find(_=>_.pointerId===g.pointerId)&&E.current===g.pointerId){const _=Date.now()-L.current,I=p.current;C.current===B.SWIPE?Math.abs(I)>.3*o||Math.abs(I)>5&&_<r?c(I,_):l(I):C.current===B.PULL&&(P(I,2*ke)?x(I,_):m(I)),p.current=0,C.current=B.NONE}R(g)}),A=T(g=>{const _=u.current.find(I=>I.pointerId===g.pointerId);if(_){const I=E.current===g.pointerId;if(g.buttons===0){I&&p.current!==0?S(g):R(_);return}const F=g.clientX-_.clientX,k=g.clientY-_.clientY;if(E.current===void 0){const J=y=>{V(g),E.current=g.pointerId,L.current=Date.now(),C.current=y};Math.abs(F)>Math.abs(k)&&Math.abs(F)>ke&&t(F)?(J(B.SWIPE),i()):Math.abs(k)>Math.abs(F)&&P(k,ke)&&(J(B.PULL),h())}else I&&(C.current===B.SWIPE?(p.current=F,s(F)):C.current===B.PULL&&(p.current=k,v(k)))}});Dn(e,N,A,S)}function Wn({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=T(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",r,{passive:!1}):(s=o.current)===null||s===void 0||s.removeEventListener("wheel",r),o.current=i},[r])}function Un(e,t,o,r,i,s,c,l,f){const d=n.useRef(0),h=n.useRef(0),v=n.useRef(),x=n.useRef(),m=n.useRef(0),p=n.useRef(0),{setTimeout:u,clearTimeout:E}=Ne(),L=n.useCallback(()=>{v.current&&(E(v.current),v.current=void 0)},[E]),C=n.useCallback(()=>{x.current&&(E(x.current),x.current=void 0)},[E]),R=T(()=>{e!==D.SWIPE&&(d.current=0,p.current=0,L(),C())});n.useEffect(R,[e,R]);const V=T(P=>{x.current=void 0,d.current===P&&f(d.current)}),N=T(P=>{if(!P.ctrlKey&&!(Math.abs(P.deltaY)>Math.abs(P.deltaX)))if(e===D.NONE){if(Math.abs(P.deltaX)<=1.2*Math.abs(m.current)){m.current=P.deltaX;return}if(!o(-P.deltaX))return;if(h.current+=P.deltaX,L(),Math.abs(h.current)>30)h.current=0,m.current=0,p.current=Date.now(),s();else{const S=h.current;v.current=u(()=>{v.current=void 0,S===h.current&&(h.current=0)},i)}}else if(e===D.SWIPE){let S=d.current-P.deltaX;if(S=Math.min(Math.abs(S),r)*Math.sign(S),d.current=S,c(S),C(),Math.abs(S)>.2*r){m.current=P.deltaX,l(S,Date.now()-p.current);return}x.current=u(()=>V(S),2*i)}else m.current=P.deltaX});n.useEffect(()=>t(Pt,N),[t,N])}const rt=He("container"),Ht=n.createContext(null),de=q("useController","ControllerContext",Ht);function Vn({children:e,...t}){var o;const{carousel:r,animation:i,controller:s,on:c,styles:l,render:f}=t,{closeOnPullUp:d,closeOnPullDown:h,preventDefaultWheelX:v,preventDefaultWheelY:x}=s,[m,p]=n.useState(),u=Ce(),E=Ln(),[L,C]=n.useState(D.NONE),R=n.useRef(0),V=n.useRef(0),N=n.useRef(1),{registerSensors:P,subscribeSensors:S}=Tn(),{subscribe:A,publish:g}=be(),_=xe(),I=xe(),F=xe(),{containerRef:k,setContainerRef:J,containerRect:y}=Ft(),we=$e(Wn({preventDefaultWheelX:v,preventDefaultWheelY:x}),J),H=n.useRef(null),fe=$e(H,void 0),{getOwnerDocument:Ie}=Tt(),Se=ze(),b=a=>(Se?-1:1)*(typeof a=="number"?a:1),X=T(()=>{var a;return(a=k.current)===null||a===void 0?void 0:a.focus()}),Ke=T(()=>t),Xe=T(()=>u),pe=n.useCallback(a=>g(j,a),[g]),he=n.useCallback(a=>g(Z,a),[g]),ne=n.useCallback(()=>g(te),[g]),Oe=a=>!(r.finite&&(b(a)>0&&u.currentIndex===0||b(a)<0&&u.currentIndex===u.slides.length-1)),Ge=a=>{var O;R.current=a,(O=k.current)===null||O===void 0||O.style.setProperty(U("swipe_offset"),`${Math.round(a)}px`)},Re=a=>{var O,W;V.current=a,N.current=(()=>{const re=(()=>h&&a>0?a:d&&a<0?-a:0)();return Math.min(Math.max(fn(1-re/60*(1-.5),2),.5),1)})(),(O=k.current)===null||O===void 0||O.style.setProperty(U("pull_offset"),`${Math.round(a)}px`),(W=k.current)===null||W===void 0||W.style.setProperty(U("pull_opacity"),`${N.current}`)},{prepareAnimation:Kt}=tt(H,(a,O,W)=>{if(H.current&&y)return{keyframes:[{transform:`translate(0, ${a.rect.y-O.y+W.y}px)`,opacity:a.opacity},{transform:"translate(0, 0)",opacity:1}],duration:a.duration,easing:i.easing.fade}}),Ye=(a,O)=>{if(d||h){Re(a);let W=0;H.current&&(W=i.fade*(O?2:1),Kt({rect:H.current.getBoundingClientRect(),opacity:N.current,duration:W})),F(()=>{Re(0),C(D.NONE)},W),C(D.ANIMATION),O||ne()}},{prepareAnimation:Xt,isAnimationPlaying:Gt}=tt(H,(a,O,W)=>{var z;if(H.current&&y&&(!((z=u.animation)===null||z===void 0)&&z.duration)){const $=Le(r.spacing),re=($.percent?$.percent*y.width/100:$.pixel)||0;return{keyframes:[{transform:`translate(${b(u.globalIndex-a.index)*(y.width+re)+a.rect.x-O.x+W.x}px, 0)`},{transform:"translate(0, 0)"}],duration:u.animation.duration,easing:u.animation.easing}}}),oe=T(a=>{var O,W;const z=a.offset||0,$=z?i.swipe:(O=i.navigation)!==null&&O!==void 0?O:i.swipe,re=!z&&!Gt()?i.easing.navigation:i.easing.swipe;let{direction:me}=a;const ve=(W=a.count)!==null&&W!==void 0?W:1;let ye=D.ANIMATION,K=$*ve;if(!me){const ie=y==null?void 0:y.width,Qe=a.duration||0,Me=ie?$/ie*Math.abs(z):$;ve!==0?(Qe<Me?K=K/Me*Math.max(Qe,Me/5):ie&&(K=$/ie*(ie-Math.abs(z))),me=b(z)>0?j:Z):K=$/2}let Te=0;me===j?Oe(b(1))?Te=-ve:(ye=D.NONE,K=$):me===Z&&(Oe(b(-1))?Te=ve:(ye=D.NONE,K=$)),K=Math.round(K),I(()=>{Ge(0),C(D.NONE)},K),H.current&&Xt({rect:H.current.getBoundingClientRect(),index:u.globalIndex}),C(ye),g(Je,{type:"swipe",increment:Te,duration:K,easing:re})});n.useEffect(()=>{var a,O;!((a=u.animation)===null||a===void 0)&&a.increment&&(!((O=u.animation)===null||O===void 0)&&O.duration)&&_(()=>E({type:"swipe",increment:0}),u.animation.duration)},[u.animation,E,_]);const je=[S,Oe,(y==null?void 0:y.width)||0,i.swipe,()=>C(D.SWIPE),a=>Ge(a),(a,O)=>oe({offset:a,duration:O,count:1}),a=>oe({offset:a,count:0})],Yt=[()=>{h&&C(D.PULL)},a=>Re(a),a=>Ye(a),a=>Ye(a,!0)];kn(...je,d,h,...Yt),Un(L,...je);const Ze=T(()=>{s.focus&&Ie().querySelector(`.${w(Fe)} .${w(rt())}`)&&X()});n.useEffect(Ze,[Ze]);const qe=T(()=>{var a;(a=c.view)===null||a===void 0||a.call(c,{index:u.currentIndex})});n.useEffect(qe,[u.globalIndex,qe]),n.useEffect(()=>Nt(A(j,a=>oe({direction:j,...a})),A(Z,a=>oe({direction:Z,...a})),A(Je,a=>E(a))),[A,oe,E]);const jt=n.useMemo(()=>({prev:pe,next:he,close:ne,focus:X,slideRect:y?hn(y,r.padding):{width:0,height:0},containerRect:y||{width:0,height:0},subscribeSensors:S,containerRef:k,setCarouselRef:fe,toolbarWidth:m,setToolbarWidth:p}),[pe,he,ne,X,S,y,k,fe,m,p,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:pe,next:he,close:ne,focus:X,getLightboxProps:Ke,getLightboxState:Xe}),[pe,he,ne,X,Ke,Xe]),n.createElement("div",{ref:we,className:G(w(rt()),w(ht)),style:{...L===D.SWIPE?{[U("swipe_offset")]:`${Math.round(R.current)}px`}:null,...L===D.PULL?{[U("pull_offset")]:`${Math.round(V.current)}px`,[U("pull_opacity")]:`${N.current}`}:null,...s.touchAction!=="none"?{[U("controller_touch_action")]:s.touchAction}:null,...l.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...P},y&&n.createElement(Ht.Provider,{value:jt},e,(o=f.controls)===null||o===void 0?void 0:o.call(f)))}const $n=Q(ft,Vn);function Y(e){return se(dt,e)}function it(e){return se("slide",e)}function Fn({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r}=Ce(),{slideRect:i,close:s}=de(),{render:c,carousel:{imageFit:l,imageProps:f},on:{click:d},controller:{closeOnBackdropClick:h},styles:{slide:v}}=le(),x=()=>{var p,u,E,L;let C=(p=c.slide)===null||p===void 0?void 0:p.call(c,{slide:e,offset:t,rect:i});return!C&&wt(e)&&(C=n.createElement(Mn,{slide:e,offset:t,render:c,rect:i,imageFit:l,imageProps:f,onClick:t===0?()=>d==null?void 0:d({index:r}):void 0})),C?n.createElement(n.Fragment,null,(u=c.slideHeader)===null||u===void 0?void 0:u.call(c,{slide:e}),((E=c.slideContainer)!==null&&E!==void 0?E:({children:R})=>R)({slide:e,children:C}),(L=c.slideFooter)===null||L===void 0?void 0:L.call(c,{slide:e})):null},m=p=>{const u=o.current,E=p.target instanceof HTMLElement?p.target:void 0;h&&E&&u&&(E===u||Array.from(u.children).find(L=>L===E)&&E.classList.contains(w(on)))&&s()};return n.createElement("div",{ref:o,className:G(w(it()),t===0&&w(it("current")),w(ht)),onClick:m,style:v},x())}function Hn(){const e=le().styles.slide;return n.createElement("div",{className:w("slide"),style:e})}function Bn({carousel:e}){const{slides:t,currentIndex:o,globalIndex:r}=Ce(),{setCarouselRef:i}=de(),s=Le(e.spacing),c=Le(e.padding),l=vn(e,t,1),f=[];if(St(t))for(let d=o-l;d<=o+l;d+=1){const h=Ot(t,d),v=r-o+d,x=e.finite&&(d<0||d>t.length-1);f.push(x?{key:v}:{key:[`${v}`,mn(h)].filter(Boolean).join("|"),offset:d-o,slide:h})}return n.createElement("div",{ref:i,className:G(w(Y()),f.length>0&&w(Y("with_slides"))),style:{[`${U(Y("slides_count"))}`]:f.length,[`${U(Y("spacing_px"))}`]:s.pixel||0,[`${U(Y("spacing_percent"))}`]:s.percent||0,[`${U(Y("padding_px"))}`]:c.pixel||0,[`${U(Y("padding_percent"))}`]:c.percent||0}},f.map(({key:d,slide:h,offset:v})=>h?n.createElement(Fn,{key:d,slide:h,offset:v}):n.createElement(Hn,{key:d})))}const zn=Q(dt,Bn);function Bt(){const{carousel:e}=le(),{slides:t,currentIndex:o}=Ce(),r=t.length===0||e.finite&&o===0,i=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Kn(e){var t;const o=ze(),{publish:r}=be(),{animation:i}=le(),{prevDisabled:s,nextDisabled:c}=Bt(),l=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,f=ot(()=>r(j),l),d=ot(()=>r(Z),l),h=T(v=>{switch(v.key){case cn:r(te);break;case sn:(o?c:s)||(o?d:f)();break;case ln:(o?s:c)||(o?f:d)();break}});n.useEffect(()=>e(Lt,h),[e,h])}function ct({label:e,icon:t,renderIcon:o,action:r,onClick:i,disabled:s,style:c}){return n.createElement(Ut,{label:e,icon:t,renderIcon:o,className:w(`navigation_${r}`),disabled:s,onClick:i,style:c,...yn(de().focus,s)})}function Xn({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:i}){const{prev:s,next:c,subscribeSensors:l}=de(),{prevDisabled:f,nextDisabled:d}=Bt();return Kn(l),n.createElement(n.Fragment,null,e?e():n.createElement(ct,{label:"Previous",action:j,icon:wn,renderIcon:o,style:i.navigationPrev,disabled:f,onClick:s}),t?t():n.createElement(ct,{label:"Next",action:Z,icon:In,renderIcon:r,style:i.navigationNext,disabled:d,onClick:c}))}const Gn=Q(qt,Xn),st=w(nn),Yn=w(mt);function jn(e){return"style"in e}function lt(e,t,o){const r=window.getComputedStyle(e),i=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,c=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Pe(s)||0)+t}px`),()=>{c?e.style.setProperty(i,c):e.style.removeProperty(i)}}function Zn({noScroll:{disabled:e},children:t}){const o=ze(),{getOwnerDocument:r,getOwnerWindow:i}=Tt();return n.useEffect(()=>{if(e)return()=>{};const s=[],c=i(),{body:l,documentElement:f}=r(),d=Math.round(c.innerWidth-f.clientWidth);if(d>0){s.push(lt(l,d,o));const h=l.getElementsByTagName("*");for(let v=0;v<h.length;v+=1){const x=h[v];jn(x)&&c.getComputedStyle(x).getPropertyValue("position")==="fixed"&&!x.classList.contains(Yn)&&s.push(lt(x,d,o))}}return l.classList.add(st),()=>{l.classList.remove(st),s.forEach(h=>h())}},[o,e,r,i]),n.createElement(n.Fragment,null,t)}const qn=Q(Qt,Zn);function at(e){return se(Fe,e)}function ut(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Qn({children:e,animation:t,styles:o,className:r,on:i,portal:s,close:c}){const[l,f]=n.useState(!1),[d,h]=n.useState(!1),v=n.useRef([]),x=n.useRef(null),{setTimeout:m}=Ne(),{subscribe:p}=be(),E=$t()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),h(!1)}),[]);const L=T(()=>{v.current.forEach(N=>N()),v.current=[]}),C=T(()=>{var N;h(!1),L(),(N=i.exiting)===null||N===void 0||N.call(i),m(()=>{var P;(P=i.exited)===null||P===void 0||P.call(i),c()},E)});n.useEffect(()=>p(te,C),[p,C]);const R=T(N=>{var P,S,A;N.scrollTop,h(!0),(P=i.entering)===null||P===void 0||P.call(i);const g=(A=(S=N.parentNode)===null||S===void 0?void 0:S.children)!==null&&A!==void 0?A:[];for(let _=0;_<g.length;_+=1){const I=g[_];["TEMPLATE","SCRIPT","STYLE"].indexOf(I.tagName)===-1&&I!==N&&(v.current.push(ut(I,"inert","true")),v.current.push(ut(I,"aria-hidden","true")))}v.current.push(()=>{var _,I;(I=(_=x.current)===null||_===void 0?void 0:_.focus)===null||I===void 0||I.call(_)}),m(()=>{var _;(_=i.entered)===null||_===void 0||_.call(i)},E)}),V=n.useCallback(N=>{N?R(N):L()},[R,L]);return l?Zt.createPortal(n.createElement(An,{ref:V,className:G(r,w(at()),w(mt),d&&w(at("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==Ve.animation.fade?{[U("fade_animation_duration")]:`${E}ms`}:null,...t.easing.fade!==Ve.animation.easing.fade?{[U("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:N=>{x.current||(x.current=N.relatedTarget)}},e),s.root||document.body):null}const Jn=Q(Fe,Qn);function eo({children:e}){return n.createElement(n.Fragment,null,e)}const to=Q(Jt,eo);function no(e){return se(pt,e)}function oo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:i,setToolbarWidth:s}=de(),{setContainerRef:c,containerRect:l}=Ft();ue(()=>{s(l==null?void 0:l.width)},[s,l==null?void 0:l.width]);const f=()=>t?t():n.createElement(Ut,{key:te,label:"Close",icon:Nn,renderIcon:o,onClick:i});return n.createElement("div",{ref:c,style:r.toolbar,className:w(no())},e==null?void 0:e.map(d=>d===te?f():d))}const ro=Q(pt,oo);function zt(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>zt(r,t)))}function io(e,t={}){const{easing:o,...r}=e,{easing:i,...s}=t;return{easing:{...o,...i},...r,...s}}function wo({carousel:e,animation:t,render:o,toolbar:r,controller:i,noScroll:s,on:c,plugins:l,slides:f,index:d,...h}){const{animation:v,carousel:x,render:m,toolbar:p,controller:u,noScroll:E,on:L,slides:C,index:R,plugins:V,...N}=Ve,{config:P,augmentation:S}=En([M(Jn,[M(qn,[M($n,[M(zn),M(ro),M(Gn)])])])],l||V),A=S({animation:io(v,t),carousel:{...x,...e},render:{...m,...o},toolbar:{...p,...r},controller:{...u,...i},noScroll:{...E,...s},on:{...L,...c},...N,...h});return A.open?n.createElement(xn,{...A},n.createElement(bn,{slides:f||C,index:Pe(d||R)},n.createElement(Cn,null,n.createElement(_n,null,zt(M(to,P),A))))):null}export{te as ACTION_CLOSE,Z as ACTION_NEXT,j as ACTION_PREV,Je as ACTION_SWIPE,xo as ACTIVE_SLIDE_COMPLETE,_o as ACTIVE_SLIDE_ERROR,Eo as ACTIVE_SLIDE_LOADING,go as ACTIVE_SLIDE_PLAYING,ht as CLASS_FLEX_CENTER,Lo as CLASS_FULLSIZE,nn as CLASS_NO_SCROLL,mt as CLASS_NO_SCROLL_PADDING,on as CLASS_SLIDE_WRAPPER,Bn as Carousel,zn as CarouselModule,Nn as CloseIcon,Vn as Controller,Ht as ControllerContext,$n as ControllerModule,yt as DocumentContext,gn as DocumentContextProvider,an as ELEMENT_BUTTON,We as ELEMENT_ICON,Lt as EVENT_ON_KEY_DOWN,rn as EVENT_ON_KEY_UP,xt as EVENT_ON_POINTER_CANCEL,vt as EVENT_ON_POINTER_DOWN,_t as EVENT_ON_POINTER_LEAVE,Et as EVENT_ON_POINTER_MOVE,gt as EVENT_ON_POINTER_UP,Pt as EVENT_ON_WHEEL,On as ErrorIcon,Mt as EventsContext,_n as EventsProvider,bt as IMAGE_FIT_CONTAIN,et as IMAGE_FIT_COVER,Ut as IconButton,Mn as ImageSlide,wo as Lightbox,Ve as LightboxDefaultProps,kt as LightboxDispatchContext,At as LightboxPropsContext,xn as LightboxPropsProvider,An as LightboxRoot,Dt as LightboxStateContext,bn as LightboxStateProvider,Sn as LoadingIcon,dt as MODULE_CAROUSEL,ft as MODULE_CONTROLLER,qt as MODULE_NAVIGATION,Qt as MODULE_NO_SCROLL,Fe as MODULE_PORTAL,Jt as MODULE_ROOT,pt as MODULE_TOOLBAR,Xn as Navigation,ct as NavigationButton,Gn as NavigationModule,In as NextIcon,Zn as NoScroll,qn as NoScrollModule,so as PLUGIN_CAPTIONS,lo as PLUGIN_COUNTER,ao as PLUGIN_DOWNLOAD,uo as PLUGIN_FULLSCREEN,fo as PLUGIN_INLINE,po as PLUGIN_SHARE,ho as PLUGIN_SLIDESHOW,mo as PLUGIN_THUMBNAILS,vo as PLUGIN_ZOOM,Qn as Portal,Jn as PortalModule,wn as PreviousIcon,eo as Root,to as RootModule,_e as SLIDE_STATUS_COMPLETE,ge as SLIDE_STATUS_ERROR,Ee as SLIDE_STATUS_LOADING,tn as SLIDE_STATUS_PLACEHOLDER,en as SLIDE_STATUS_PLAYING,D as SwipeState,Wt as TimeoutsContext,Cn as TimeoutsProvider,oo as Toolbar,ro as ToolbarModule,un as UNKNOWN_ACTION_TYPE,sn as VK_ARROW_LEFT,ln as VK_ARROW_RIGHT,cn as VK_ESCAPE,ce as activeSlideStatus,bo as addToolbarButton,vn as calculatePreload,Nt as cleanup,G as clsx,se as composePrefix,hn as computeSlideRect,ae as createIcon,No as createIconDisabled,Q as createModule,M as createNode,w as cssClass,U as cssVar,wo as default,Po as devicePixelRatio,Ot as getSlide,Ue as getSlideIfPresent,It as getSlideIndex,mn as getSlideKey,St as hasSlides,Be as hasWindow,pn as isImageFitCover,wt as isImageSlide,dn as label,He as makeComposePrefix,q as makeUseContext,Pe as parseInt,Le as parseLengthPercentage,fn as round,nt as setRef,Co as stopNavigationEventsPropagation,tt as useAnimation,Ft as useContainerRect,de as useController,xe as useDelay,Tt as useDocumentContext,T as useEventCallback,be as useEvents,$e as useForkRef,Kn as useKeyboardNavigation,ue as useLayoutEffect,Ln as useLightboxDispatch,le as useLightboxProps,Ce as useLightboxState,yn as useLoseFocus,$t as useMotionPreference,Bt as useNavigationState,Dn as usePointerEvents,kn as usePointerSwipe,Wn as usePreventWheelDefaults,ze as useRTL,Tn as useSensors,ot as useThrottle,Ne as useTimeouts,Un as useWheelSwipe,En as withPlugins};
