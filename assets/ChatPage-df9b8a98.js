import{j as d,r as y,_ as A,a as _,d as Pe,e as de,t as je,F as tn,T as rn,i as Be,Q as St,u as Le,o as Xt,x as nn,G as Ve,g as Kt,H as sn,R as E,I as an,J as on,K as ln,q as ft,k as mt,l as qt,n as Qt,M as cn}from"./index-1dbf5670.js";import{s as J,L as me,E as se}from"./sprite-f89b8981.js";import{u as dn}from"./useCloseModal-32ba7e76.js";import{F as un}from"./FileInput-5d4d35cc.js";import{u as hn,b as Jt,c as yt,B as gt,A as er,d as We,p as pn,P as ae,o as fn,a as mn}from"./useResizeWindow-7f7b4e96.js";import{c as Mt}from"./convertTimeWithZero-0e4ead24.js";const yn=({handleToggleRecordingStatus:t})=>d.jsx("button",{className:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-transparent transition-all duration-300 hover:bg-veryLightZincOpacity20 hover:dark:bg-veryLightZincOpacity10",type:"button",onClick:t,"aria-label":"Recording audio",children:d.jsx("svg",{width:24,height:24,className:"fill-mediumLightZinc dark:fill-mediumZinc",children:d.jsx("use",{href:J+"#icon-mic"})})}),gn=()=>d.jsx("button",{className:"flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-transparent transition-all duration-300 hover:bg-veryLightZincOpacity20 hover:dark:bg-veryLightZincOpacity10",type:"submit","aria-label":"Send message",children:d.jsx("svg",{width:24,height:24,className:"fill-mediumLightZinc dark:fill-mediumZinc",children:d.jsx("use",{href:J+"#icon-send-message"})})}),bn=y.lazy(()=>A(()=>import("./EmojiPickerWindow-eabe8a03.js"),["assets/EmojiPickerWindow-eabe8a03.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/useStartTransition-8aa2caca.js","assets/Transition-435573db.js","assets/objectWithoutPropertiesLoose-68193569.js","assets/useResizeWindow-7f7b4e96.js"])),vn=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(null),s=y.useDeferredValue(t);dn(()=>e(!1));const a=_(p=>p.editingMessageInfo),l=()=>{e(!0),r&&(clearTimeout(r),n(null))},u=()=>{const p=setTimeout(()=>{e(!1)},300);n(p)},h=p=>{p.key==="Enter"&&e(!0)};return d.jsxs("div",{className:`absolute ${a?"bottom-1":"top-7"} left-3 cursor-pointer`,onMouseEnter:l,onMouseLeave:u,onKeyDown:h,children:[s&&d.jsx(y.Suspense,{fallback:d.jsx("div",{className:"absolute -left-1 -top-1",children:d.jsx(me,{size:50})}),children:d.jsx(bn,{})}),d.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full transition-all duration-300 hover:bg-mediumZinc hover:dark:bg-veryLightZincOpacity10",children:d.jsx("svg",{width:24,height:24,className:"fill-ultraDarkZinc dark:fill-mediumZinc",children:d.jsx("use",{href:J+"#icon-emoticon"})})})]})},wn=({editingMessageInfo:t,handleClickFileInput:e,children:r})=>d.jsxs("button",{className:`absolute ${t?"bottom-1":"top-7"} right-16 flex h-10 w-10 cursor-pointer items-center justify-center rounded-full bg-transparent transition-all duration-300 hover:bg-mediumZinc hover:dark:bg-veryLightZincOpacity10`,type:"button",onClick:e,"aria-label":"Attach file to message",children:[d.jsx("svg",{width:24,height:24,className:"fill-ultraDarkZinc dark:fill-mediumZinc",children:d.jsx("use",{href:J+"#icon-paper-clip"})}),r]}),Tn=y.lazy(()=>A(()=>import("./FileInputModal-fb55956d.js"),["assets/FileInputModal-fb55956d.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/ButtonClose-abd96f0a.js","assets/sprite-f89b8981.js","assets/Line-98bfbd96.js","assets/useResizeWindow-7f7b4e96.js","assets/objectWithoutPropertiesLoose-68193569.js","assets/ModalWindow-8020d4f8.js","assets/useCloseModal-32ba7e76.js","assets/v4-4a60fe23.js","assets/FileInput-5d4d35cc.js","assets/convertTimeWithZero-0e4ead24.js"])),En=()=>{const[t,e]=y.useState(!1),r=y.useRef(null),n=_(u=>u.editingMessageInfo),s=()=>{e(u=>!u)},a=u=>{const h=u.target;h.nodeName!=="svg"&&h.nodeName!=="use"&&h.nodeName!=="input"||r.current&&r.current.click()},l=u=>{u.target.files&&s()};return d.jsxs(d.Fragment,{children:[d.jsx(wn,{editingMessageInfo:n,handleClickFileInput:a,children:d.jsx(un,{handleChangeFileInput:l,ref:r})}),t&&d.jsx(y.Suspense,{fallback:d.jsx("div",{className:"absolute right-14 top-6",children:d.jsx(me,{size:50})}),children:d.jsx(Tn,{setIsModalAddFileOpen:e,handleToggleModal:s,ref:r})})]})},at=async(t,e)=>{const r=Pe(de,"chats",t),n={[e]:{isTyping:!1}};await je(r,n)},xn=()=>{const t=_(r=>r.currentUser.uid),{chatUID:e}=_(r=>r.currentChatInfo);y.useEffect(()=>{if(!e||!t)return;const r=async n=>{n.preventDefault(),await at(e,t)};return window.addEventListener("beforeunload",r),()=>{(async()=>{await at(e,t),window.removeEventListener("beforeunload",r)})()}},[e,t])},_n=()=>{const{chatUID:t}=_(r=>r.currentChatInfo),e=_(r=>r.setMessage);y.useEffect(()=>{t&&e("")},[t,e])},Pn=t=>{const e=_(a=>a.setMessage),{chatUID:r}=_(a=>a.currentChatInfo),n=_(a=>a.editingMessageInfo),s=_(a=>a.resetEditingMessage);y.useEffect(()=>{s()},[r,s]),y.useEffect(()=>{var a;if(n){document.activeElement!==t.current&&((a=t.current)==null||a.focus());const l=n.selectedMessage.data().message;e(l)}},[n,t,e])},Cn=(t,e)=>{y.useEffect(()=>{const r=()=>{var a;if(e===!0)return;const n=document.getElementById(se.SearchInput);document.activeElement===t.current||document.activeElement===n||(a=t.current)==null||a.focus()};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[t,e])},On=async(t,e)=>{const r=Pe(de,"chats",t),n={[e]:{isTyping:!0}};await je(r,n)},Sn=()=>{const t=y.useRef(null),e=_(a=>a.message),r=_(a=>a.currentUser.uid),{chatUID:n,userUID:s}=_(a=>a.currentChatInfo);y.useEffect(()=>{if(n&&r&&e){t.current===null&&On(n,r);const a=setTimeout(()=>{at(n,r),t.current=null},3e3);t.current&&clearTimeout(t.current),t.current=a}},[n,r,e,t,s]),y.useEffect(()=>()=>{t.current&&(clearTimeout(t.current),t.current=null)},[n,t])};var tr=(t=>(t.Text="text",t.AttachedFiles="attachedFiles",t.VoiceMessage="voiceMessage",t))(tr||{});const Mn=async(t,e,r)=>{await tn(Be(de,`chats/${t}/messages`),{type:tr.Text,message:e,senderUserID:r,date:rn.now(),isRead:!1,isEdited:!1,isShowNotification:!0})},In=async(t,e,r,n,s,a)=>{if(!(!n||!s||!a))try{if(await Mn(n,e,s),!r)return;const{VITE_NOTIFY_PATH:l}={VITE_NOTIFY_PATH:"https://firebase-admin-chat.vercel.app/api/sendNotify",VITE_MEASUREMENT_ID:"G-QK2DTSM4YB",VITE_STORAGE_BUCKET:"react-web-messenger-bac57.appspot.com",VITE_AUTH_DOMAIN:"react-web-messenger-bac57.firebaseapp.com",VITE_PROJECT_ID:"react-web-messenger-bac57",VITE_APP_ID:"1:766198178472:web:b277f56e4a8e1d1111589d",VITE_VAPID_KEY:"BJz-dOYx4BSd3Zp_8c_y1h0m29jgWgk8NUeB6_nclQKonF-cFNstfUNj0BmbidFR2Rwfzi2eiSH-2LBTIV0q70A",VITE_API_KEY:"AIzaSyAu4WmCTBZ0obZ6HKTfHTBkM2O_GKrTFj0",VITE_DB_URL:"https://react-web-messenger-bac57-default-rtdb.europe-west1.firebasedatabase.app",VITE_MESSAGING_SENDER_ID:"766198178472",BASE_URL:"/react-web-messenger",MODE:"production",DEV:!1,PROD:!0,SSR:!1};fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,title:t,body:e})}).catch(h=>console.error("Error:",h))}catch(l){console.log("handleSendMessage error",l)}},Dn=async(t,e,r)=>{const n=Pe(de,"chats",t,"messages",e);await je(n,{message:r})},kn=async(t,e)=>{await je(Pe(de,"chats",t,"messages",`${e.id}`),{isEdited:!0})},jn=()=>{document.body.style.cursor="progress"},Ln=()=>{document.body.style.cursor="auto"},An=async(t,e,r,n,s,a)=>{if(!(!t||!e||!n||!s))try{jn();const{selectedMessage:l}=t;await Promise.all([Dn(e,l.id,r),kn(e,l)]),St.success(a("Toasts.EditingMessageSuccess"))}catch(l){St.error(a("Toasts.EditingMessageError")),console.log("handleUpdateEditMessage error",l)}finally{Ln()}},Un=y.lazy(()=>A(()=>import("./RecordingAudio-e8bf5eb8.js"),["assets/RecordingAudio-e8bf5eb8.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/sprite-f89b8981.js","assets/v4-4a60fe23.js","assets/useCloseModal-32ba7e76.js","assets/FileInput-5d4d35cc.js","assets/useResizeWindow-7f7b4e96.js","assets/convertTimeWithZero-0e4ead24.js"])),Rn=y.lazy(()=>A(()=>import("./ChatFormSelectedMsgs-8baa64b3.js"),["assets/ChatFormSelectedMsgs-8baa64b3.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/ButtonClose-abd96f0a.js","assets/sprite-f89b8981.js","assets/DeleteButton-b055a107.js","assets/useCloseModal-32ba7e76.js","assets/FileInput-5d4d35cc.js","assets/useResizeWindow-7f7b4e96.js","assets/convertTimeWithZero-0e4ead24.js"])),Nn=y.lazy(()=>A(()=>import("./EditingMsgInfo-1281eff0.js"),["assets/EditingMsgInfo-1281eff0.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/ButtonClose-abd96f0a.js","assets/sprite-f89b8981.js"])),$n=({isShowSearchMessages:t})=>{const[e,r]=y.useState(!1),n=y.useRef(null),{t:s}=Le(),a=_(T=>T.message),l=_(T=>T.setMessage),{uid:u,displayName:h}=_(T=>T.currentUser),{chatUID:p,userUID:m,tokenFCM:g}=_(T=>T.currentChatInfo),b=_(T=>T.editingMessageInfo),w=_(T=>T.resetEditingMessage),v=_(T=>T.isSelectedMessages);Sn(),xn(),_n(),Cn(n,t),Pn(n);const P=()=>{w(),l("")},S=T=>{l(T.target.value)},x=T=>{T.preventDefault(),a.trim()!==""&&(b?(An(b,p,a,u,m,s),w(),l("")):(In(h,a,g,p,u,m),l("")))},O=()=>{r(T=>!T)};return d.jsx("div",{className:"absolute bottom-0 left-0 z-10 flex h-24 w-full flex-col items-center",children:v?d.jsx(y.Suspense,{children:d.jsx(Rn,{})}):d.jsxs("div",{className:"relative flex h-full w-full flex-col justify-center shadow-whiteTopShadow xl:w-8/12",children:[b&&d.jsx(y.Suspense,{fallback:d.jsx("div",{className:"mx-auto",children:d.jsx(me,{size:48})}),children:d.jsx(Nn,{selectedMessage:b.selectedMessage,handleCancelEditingMessage:P})}),d.jsxs("form",{className:"flex items-center justify-center gap-2 px-3",onSubmit:x,children:[d.jsx("input",{id:se.ChatFormInput,autoComplete:"off",className:"h-10 w-full rounded-3xl border-2 border-transparent bg-mediumLightZinc py-1 pl-10 pr-14 text-black outline-none placeholder:text-ultraDarkZinc focus:border-solid dark:bg-darkBackground dark:text-white placeholder:dark:text-mediumZinc focus:dark:border-mediumDarkCyan",type:"text",placeholder:s("ChatForm.ChatInputPlaceholder"),ref:n,value:a,onChange:S}),a?d.jsx(gn,{}):d.jsx(d.Fragment,{children:e?d.jsx(y.Suspense,{fallback:d.jsx(me,{size:40}),children:d.jsx(Un,{isRecording:e,handleToggleRecordingStatus:O})}):d.jsx(yn,{handleToggleRecordingStatus:O})})]}),!e&&d.jsx(En,{}),d.jsx(vn,{})]})})},Hn=({handleClick:t})=>d.jsx("button",{className:"ml-auto flex h-10 w-10 items-center justify-center rounded-full transition-all duration-300 hover:bg-mediumZinc hover:dark:bg-veryLightZincOpacity10",type:"button",onClick:t,"aria-label":"Search messages",children:d.jsx("svg",{className:"fill-darkZinc dark:fill-mediumZinc",width:24,height:24,children:d.jsx("use",{href:J+"#icon-search"})})}),Vn=()=>{const[t,e]=y.useState(!1),r=_(a=>a.currentUser.uid),{chatUID:n,userUID:s}=_(a=>a.currentChatInfo);return y.useEffect(()=>{if(!n||!s)return;const a=Pe(de,"chats",n),l=Xt(a,u=>{var h,p;if(u.exists()){const m=u.data();(((h=m[s])==null?void 0:h.isTyping)===!1||((p=m[s])==null?void 0:p.isTyping)===!0)&&e(m[s].isTyping)}},u=>{console.error("error listener of isTyping:",u)});return()=>{l()}},[n,r,s]),t},zn=()=>{const{t}=Le("translation",{keyPrefix:"General"}),e=_(l=>l.currentChatInfo.userUID),r=Vn(),n=hn(e),s=Jt(e),a=yt(s==null?void 0:s.photoURL);return d.jsxs(d.Fragment,{children:[d.jsx(gt,{loading:a,children:d.jsx(er,{photoURL:s==null?void 0:s.photoURL,displayName:s==null?void 0:s.displayName,size:"40"})}),d.jsx("p",{className:"font-bold text-ultraDarkZinc dark:text-mediumZinc",children:s==null?void 0:s.displayName}),r?d.jsxs("h2",{className:"text-black dark:text-white",children:[t("Typing"),"..."]}):d.jsx("div",{className:`${n?"text-darkGreen":"text-veryDarkRed"}`,children:t(n?"Online":"Offline")})]})},Fn=y.lazy(()=>A(()=>import("./ButtonArrow-17349a12.js"),["assets/ButtonArrow-17349a12.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/sprite-f89b8981.js"])),Bn=({setIsShowSearchMessages:t})=>{const e=nn(),{chatUID:r}=_(u=>u.currentChatInfo),n=_(u=>u.resetCurrentChatInfo),{isFullScreen:s}=We();y.useEffect(()=>{t(!1)},[r,t]);const a=()=>{t(!0)},l=()=>{n(),e("/")};return d.jsxs("div",{className:"absolute left-0 top-0 z-10 flex h-14 w-full items-center gap-4 bg-main px-6 shadow-bottomShadow dark:bg-mainBlack",children:[!s&&d.jsx(y.Suspense,{fallback:d.jsx("div",{children:d.jsx(me,{size:40})}),children:d.jsx(Fn,{handleClickButtonArrow:l})}),d.jsx(zn,{}),d.jsx(Hn,{handleClick:a})]})};var rr={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Ve,function(){function r(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(o){return typeof o}:r=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},r(i)}var n=function(o){if(typeof o!="string")return{};o=o.split("+").join(" ");var c={},f=o.match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/),j;if(f===null)return{};j=f[0].substr(1).split(/[&#=]/);for(var K=0;K<j.length;K+=2)c[decodeURIComponent(j[K])]=decodeURIComponent(j[K+1]||"");return c},s=function(o,c){if(r(o)!=="object")return"";var f="",j=0,K=Object.keys(o);if(K.length===0)return"";for(K.sort(),c||(f+="?"+K[0]+"="+o[K[0]],j+=1);j<K.length;j+=1)f+="&"+K[j]+"="+o[K[j]];return f};function a(i){var o=0,c={s:1,m:1*60,h:1*60*60,d:1*60*60*24,w:1*60*60*24*7},f;i=i.replace(/([smhdw])/g," $1 ").trim(),f=i.split(" ");for(var j=0;j<f.length;j+=2)o+=parseInt(f[j],10)*c[f[j+1]||"s"];return o}function l(i){for(var o=0,c=[1,1*60,1*60*60,1*60*60*24,1*60*60*24*7],f=i.split(":"),j=0;j<f.length;j++)o+=parseInt(f[j],10)*c[f.length-j-1];return o}var u=function(o){return typeof o>"u"?0:o.match(/^(\d+[smhdw]?)+$/)?a(o):o.match(/^(\d+:?)+$/)?l(o):0},h={getQueryParams:n,combineParams:s,getTime:u},p=h.getQueryParams;function m(){for(var i=0,o=["parseProvider","parse","bind","create"];i<o.length;i++){var c=o[i];this[c]=this[c].bind(this)}this.plugins={}}var g=m;m.prototype.parseProvider=function(i){var o=i.match(/(?:(?:https?:)?\/\/)?(?:[^.]+\.)?(\w+)\./i);return o?o[1]:void 0},m.prototype.parse=function(i){if(!(typeof i>"u")){var o=this.parseProvider(i),c,f=this.plugins[o];if(!(!o||!f||!f.parse))return c=f.parse.call(f,i,p(i)),c&&(c=b(c),c.provider=f.provider),c}},m.prototype.bind=function(i){if(this.plugins[i.provider]=i,i.alternatives)for(var o=0;o<i.alternatives.length;o+=1)this.plugins[i.alternatives[o]]=i},m.prototype.create=function(i){if(!(r(i)!=="object"||r(i.videoInfo)!=="object")){var o=i.videoInfo,c=i.params,f=this.plugins[o.provider];if(c=c==="internal"?o.params:c||{},f&&(i.format=i.format||f.defaultFormat,f.formats.hasOwnProperty(i.format)))return f.formats[i.format].apply(f,[o,Object.assign({},c)])}};function b(i){return i.params&&Object.keys(i.params).length===0&&delete i.params,i}var w=new g,v=w;function P(){this.provider="allocine",this.alternatives=[],this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}P.prototype.parseUrl=function(i){var o=i.match(/(?:\/video\/player_gen_cmedia=)([A-Za-z0-9]+)/i);return o?o[1]:void 0},P.prototype.parse=function(i){var o={mediaType:this.mediaTypes.VIDEO,id:this.parseUrl(i)};return o.id?o:void 0},P.prototype.createEmbedUrl=function(i){if(!(!i.id||i.mediaType!==this.mediaTypes.VIDEO))return"https://player.allocine.fr/"+i.id+".html"},v.bind(new P);var S=h.combineParams;function x(){this.provider="canalplus",this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}x.prototype.parseParameters=function(i){return delete i.vid,i},x.prototype.parse=function(i,o){var c=this,f={mediaType:this.mediaTypes.VIDEO,id:o.vid};if(f.params=c.parseParameters(o),!!f.id)return f},x.prototype.createEmbedUrl=function(i,o){if(!(!i.id||i.mediaType!==this.mediaTypes.VIDEO)){var c="http://player.canalplus.fr/embed/";return o.vid=i.id,c+=S(o),c}},v.bind(new x);var O=h.combineParams;function T(){this.provider="coub",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}T.prototype.parseUrl=function(i){var o=i.match(/(?:embed|view)\/([a-zA-Z\d]+)/i);return o?o[1]:void 0},T.prototype.parse=function(i,o){var c={mediaType:this.mediaTypes.VIDEO,params:o,id:this.parseUrl(i)};if(c.id)return c},T.prototype.createUrl=function(i,o,c){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO)){var f=i+o.id;return f+=O(c),f}},T.prototype.createLongUrl=function(i,o){return this.createUrl("https://coub.com/view/",i,o)},T.prototype.createEmbedUrl=function(i,o){return this.createUrl("//coub.com/embed/",i,o)},v.bind(new T);var k=h.combineParams,I=h.getTime;function C(){this.provider="dailymotion",this.alternatives=["dai"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,image:this.createImageUrl},this.mediaTypes={VIDEO:"video"}}C.prototype.parseParameters=function(i){return this.parseTime(i)},C.prototype.parseTime=function(i){return i.start&&(i.start=I(i.start)),i},C.prototype.parseUrl=function(i){var o=i.match(/(?:\/video|ly)\/([A-Za-z0-9]+)/i);return o?o[1]:void 0},C.prototype.parse=function(i,o){var c=this,f={mediaType:this.mediaTypes.VIDEO,params:c.parseParameters(o),id:c.parseUrl(i)};return f.id?f:void 0},C.prototype.createUrl=function(i,o,c){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO))return i+o.id+k(c)},C.prototype.createShortUrl=function(i,o){return this.createUrl("https://dai.ly/",i,o)},C.prototype.createLongUrl=function(i,o){return this.createUrl("https://dailymotion.com/video/",i,o)},C.prototype.createEmbedUrl=function(i,o){return this.createUrl("https://www.dailymotion.com/embed/video/",i,o)},C.prototype.createImageUrl=function(i,o){return delete o.start,this.createUrl("https://www.dailymotion.com/thumbnail/video/",i,o)},v.bind(new C);var G=h.combineParams;function $(){this.provider="loom",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}$.prototype.parseUrl=function(i){var o=i.match(/(?:share|embed)\/([a-zA-Z\d]+)/i);return o?o[1]:void 0},$.prototype.parse=function(i,o){var c={mediaType:this.mediaTypes.VIDEO,params:o,id:this.parseUrl(i)};return c.id?c:void 0},$.prototype.createUrl=function(i,o,c){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO)){var f=i+o.id;return f+=G(c),f}},$.prototype.createLongUrl=function(i,o){return this.createUrl("https://loom.com/share/",i,o)},$.prototype.createEmbedUrl=function(i,o){return this.createUrl("//loom.com/embed/",i,o)},v.bind(new $);var re=h.combineParams,M=h.getTime;function L(){this.provider="twitch",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",STREAM:"stream",CLIP:"clip"}}L.prototype.seperateId=function(i){return{pre:i[0],id:i.substr(1)}},L.prototype.parseChannel=function(i,o){var c=o.channel||o.utm_content||i.channel;return delete o.utm_content,delete o.channel,c},L.prototype.parseUrl=function(i,o,c){var f;return f=i.match(/(clips\.)?twitch\.tv\/(?:(?:videos\/(\d+))|(\w+(?:-[\w\d-]+)?)(?:\/clip\/(\w+))?)/i),f&&f[2]?o.id="v"+f[2]:c.video?(o.id=c.video,delete c.video):c.clip?(o.id=c.clip,o.isClip=!0,delete c.clip):f&&f[1]&&f[3]?(o.id=f[3],o.isClip=!0):f&&f[3]&&f[4]?(o.channel=f[3],o.id=f[4],o.isClip=!0):f&&f[3]&&(o.channel=f[3]),o},L.prototype.parseMediaType=function(i){var o;return i.id?i.isClip?(o=this.mediaTypes.CLIP,delete i.isClip):o=this.mediaTypes.VIDEO:i.channel&&(o=this.mediaTypes.STREAM),o},L.prototype.parseParameters=function(i){return i.t&&(i.start=M(i.t),delete i.t),i},L.prototype.parse=function(i,o){var c=this,f={};return f=c.parseUrl(i,f,o),f.channel=c.parseChannel(f,o),f.mediaType=c.parseMediaType(f),f.params=c.parseParameters(o),f.channel||f.id?f:void 0},L.prototype.createLongUrl=function(i,o){var c="";if(i.mediaType===this.mediaTypes.STREAM&&i.channel)c="https://twitch.tv/"+i.channel;else if(i.mediaType===this.mediaTypes.VIDEO&&i.id){var f=this.seperateId(i.id);c="https://twitch.tv/videos/"+f.id,o.start&&(o.t=o.start+"s",delete o.start)}else if(i.mediaType===this.mediaTypes.CLIP&&i.id)i.channel?c="https://www.twitch.tv/"+i.channel+"/clip/"+i.id:c="https://clips.twitch.tv/"+i.id;else return;return c+=re(o),c},L.prototype.createEmbedUrl=function(i,o){var c="https://player.twitch.tv/";if(i.mediaType===this.mediaTypes.STREAM&&i.channel)o.channel=i.channel;else if(i.mediaType===this.mediaTypes.VIDEO&&i.id)o.video=i.id,o.start&&(o.t=o.start+"s",delete o.start);else if(i.mediaType===this.mediaTypes.CLIP&&i.id)c="https://clips.twitch.tv/embed",o.clip=i.id;else return;return c+=re(o),c},v.bind(new L);var Y=h.combineParams,ce=h.getTime;function B(){this.provider="vimeo",this.alternatives=["vimeopro"],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}B.prototype.parseUrl=function(i){var o=i.match(/(?:\/showcase\/\d+)?(?:\/(?:channels\/[\w]+|(?:(?:album\/\d+|groups\/[\w]+)\/)?videos?))?\/(\d+)/i);return o?o[1]:void 0},B.prototype.parseHash=function(i){var o=i.match(/\/\d+\/(\w+)$/i);return o?o[1]:void 0},B.prototype.parseParameters=function(i){return i.t&&(i.start=ce(i.t),delete i.t),i.h&&(i.hash=i.h,delete i.h),i},B.prototype.parse=function(i,o){var c={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(o),id:this.parseUrl(i)},f=this.parseHash(i,o);return f&&(c.params.hash=f),c.id?c:void 0},B.prototype.createUrl=function(i,o,c,f){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO)){var j=i+o.id,K=c.start;return delete c.start,c.hash&&(f==="embed"?c.h=c.hash:f==="long"&&(j+="/"+c.hash),delete c.hash),j+=Y(c),K&&(j+="#t="+K),j}},B.prototype.createLongUrl=function(i,o){return this.createUrl("https://vimeo.com/",i,o,"long")},B.prototype.createEmbedUrl=function(i,o){return this.createUrl("//player.vimeo.com/video/",i,o,"embed")},v.bind(new B);var ue=h.combineParams,Ce=h.getTime;function X(){this.provider="wistia",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl,embedjsonp:this.createEmbedJsonpUrl},this.mediaTypes={VIDEO:"video",EMBEDVIDEO:"embedvideo"}}X.prototype.parseUrl=function(i){var o=i.match(/(?:(?:medias|iframe)\/|wvideo=)([\w-]+)/);return o?o[1]:void 0},X.prototype.parseChannel=function(i){var o=i.match(/(?:(?:https?:)?\/\/)?([^.]*)\.wistia\./),c=o?o[1]:void 0;if(!(c==="fast"||c==="content"))return c},X.prototype.parseParameters=function(i,o){return i.wtime&&(i.start=Ce(i.wtime),delete i.wtime),i.wvideo===o.id&&delete i.wvideo,i},X.prototype.parseMediaType=function(i){return i.id&&i.channel?this.mediaTypes.VIDEO:i.id?(delete i.channel,this.mediaTypes.EMBEDVIDEO):void 0},X.prototype.parse=function(i,o){var c={id:this.parseUrl(i),channel:this.parseChannel(i)};if(c.params=this.parseParameters(o,c),c.mediaType=this.parseMediaType(c),!!c.id)return c},X.prototype.createUrl=function(i,o,c){return o.start&&(o.wtime=o.start,delete o.start),c+=ue(o),c},X.prototype.createLongUrl=function(i,o){if(!(!i.id||i.mediaType!==this.mediaTypes.VIDEO)){var c="https://"+i.channel+".wistia.com/medias/"+i.id;return this.createUrl(i,o,c)}},X.prototype.createEmbedUrl=function(i,o){if(!(!i.id||!(i.mediaType===this.mediaTypes.VIDEO||i.mediaType===this.mediaTypes.EMBEDVIDEO))){var c="https://fast.wistia.com/embed/iframe/"+i.id;return this.createUrl(i,o,c)}},X.prototype.createEmbedJsonpUrl=function(i){if(!(!i.id||!(i.mediaType===this.mediaTypes.VIDEO||i.mediaType===this.mediaTypes.EMBEDVIDEO)))return"https://fast.wistia.com/embed/medias/"+i.id+".jsonp"},v.bind(new X);var he=h.combineParams;function ee(){this.provider="youku",this.defaultFormat="long",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:"video"}}ee.prototype.parseUrl=function(i){var o=i.match(/(?:(?:embed|sid)\/|v_show\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return o?o[1]:void 0},ee.prototype.parseParameters=function(i){return i.VideoIDS&&delete i.VideoIDS,i},ee.prototype.parse=function(i,o){var c=this,f={mediaType:this.mediaTypes.VIDEO,id:c.parseUrl(i),params:c.parseParameters(o)};if(f.id)return f},ee.prototype.createUrl=function(i,o,c){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO)){var f=i+o.id;return f+=he(c),f}},ee.prototype.createEmbedUrl=function(i,o){return this.createUrl("http://player.youku.com/embed/",i,o)},ee.prototype.createLongUrl=function(i,o){return this.createUrl("http://v.youku.com/v_show/id_",i,o)},ee.prototype.createStaticUrl=function(i,o){return this.createUrl("http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=",i,o)},ee.prototype.createFlashUrl=function(i,o){if(!(!i.id||i.mediaType!==this.mediaTypes.VIDEO)){var c="http://player.youku.com/player.php/sid/"+i.id+"/v.swf";return c+=he(o),c}},v.bind(new ee);var ne=h.combineParams,ge=h.getTime;function V(){this.provider="youtube",this.alternatives=["youtu","ytimg"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={0:"0",1:"1",2:"2",3:"3",DEFAULT:"default",HQDEFAULT:"hqdefault",SDDEFAULT:"sddefault",MQDEFAULT:"mqdefault",MAXRESDEFAULT:"maxresdefault"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist",SHARE:"share",CHANNEL:"channel"}}V.prototype.parseVideoUrl=function(i){var o=i.match(/(?:(?:v|vi|be|videos|embed)\/(?!videoseries)|(?:v|ci)=)([\w-]{11})/i);return o?o[1]:void 0},V.prototype.parseChannelUrl=function(i){var o=i.match(/\/channel\/([\w-]+)/);if(o)return{id:o[1],mediaType:this.mediaTypes.CHANNEL};if(o=i.match(/\/(?:c|user)\/([\w-]+)/),o)return{name:o[1],mediaType:this.mediaTypes.CHANNEL}},V.prototype.parseParameters=function(i,o){return(i.start||i.t)&&(i.start=ge(i.start||i.t),delete i.t),i.v===o.id&&delete i.v,i.list===o.id&&delete i.list,i},V.prototype.parseMediaType=function(i){if(i.params.list&&(i.list=i.params.list,delete i.params.list),i.id&&!i.params.ci)i.mediaType=this.mediaTypes.VIDEO;else if(i.list)delete i.id,i.mediaType=this.mediaTypes.PLAYLIST;else if(i.params.ci)delete i.params.ci,i.mediaType=this.mediaTypes.SHARE;else return;return i},V.prototype.parse=function(i,o){var c=this.parseChannelUrl(i);if(c)return c;var f={params:o,id:this.parseVideoUrl(i)};return f.params=this.parseParameters(o,f),f=this.parseMediaType(f),f},V.prototype.createShortUrl=function(i,o){if(!(!i.id||i.mediaType!==this.mediaTypes.VIDEO)){var c="https://youtu.be/"+i.id;return o.start&&(c+="#t="+o.start),c}},V.prototype.createLongUrl=function(i,o){var c="",f=o.start;if(delete o.start,i.mediaType===this.mediaTypes.CHANNEL)if(i.id)c+="https://www.youtube.com/channel/"+i.id;else if(i.name)c+="https://www.youtube.com/c/"+i.name;else return;else if(i.mediaType===this.mediaTypes.PLAYLIST&&i.list)o.feature="share",c+="https://www.youtube.com/playlist";else if(i.mediaType===this.mediaTypes.VIDEO&&i.id)o.v=i.id,c+="https://www.youtube.com/watch";else if(i.mediaType===this.mediaTypes.SHARE&&i.id)o.ci=i.id,c+="https://www.youtube.com/shared";else return;return i.list&&(o.list=i.list),c+=ne(o),i.mediaType!==this.mediaTypes.PLAYLIST&&f&&(c+="#t="+f),c},V.prototype.createEmbedUrl=function(i,o){var c="https://www.youtube.com/embed";if(i.mediaType===this.mediaTypes.PLAYLIST&&i.list)o.listType="playlist";else if(i.mediaType===this.mediaTypes.VIDEO&&i.id)c+="/"+i.id,o.loop==="1"&&(o.playlist=i.id);else return;return i.list&&(o.list=i.list),c+=ne(o),c},V.prototype.createImageUrl=function(i,o,c){if(!(!o.id||o.mediaType!==this.mediaTypes.VIDEO)){var f=i+o.id+"/",j=c.imageQuality||this.defaultImageQuality;return f+j+".jpg"}},V.prototype.createShortImageUrl=function(i,o){return this.createImageUrl("https://i.ytimg.com/vi/",i,o)},V.prototype.createLongImageUrl=function(i,o){return this.createImageUrl("https://img.youtube.com/vi/",i,o)},v.bind(new V);var Qe=h.combineParams,Oe=h.getTime;function ye(){this.provider="soundcloud",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={TRACK:"track",PLAYLIST:"playlist",APITRACK:"apitrack",APIPLAYLIST:"apiplaylist"}}ye.prototype.parseUrl=function(i,o){var c=i.match(/(?:m\.)?soundcloud\.com\/(?:([\w-]+)\/(sets\/)?)([\w-]+)/i);return c&&(o.channel=c[1],c[1]==="playlists"||c[2]?o.list=c[3]:o.id=c[3]),o},ye.prototype.parseParameters=function(i){return i.t&&(i.start=Oe(i.t),delete i.t),i},ye.prototype.parseMediaType=function(i){return i.id&&(i.channel==="tracks"?(delete i.channel,delete i.params.url,i.mediaType=this.mediaTypes.APITRACK):i.mediaType=this.mediaTypes.TRACK),i.list&&(i.channel==="playlists"?(delete i.channel,delete i.params.url,i.mediaType=this.mediaTypes.APIPLAYLIST):i.mediaType=this.mediaTypes.PLAYLIST),i},ye.prototype.parse=function(i,o){var c={};if(c=this.parseUrl(i,c),c.params=this.parseParameters(o),c=this.parseMediaType(c),!(!c.id&&!c.list))return c},ye.prototype.createLongUrl=function(i,o){var c="",f=o.start;if(delete o.start,i.mediaType===this.mediaTypes.TRACK&&i.id&&i.channel)c="https://soundcloud.com/"+i.channel+"/"+i.id;else if(i.mediaType===this.mediaTypes.PLAYLIST&&i.list&&i.channel)c="https://soundcloud.com/"+i.channel+"/sets/"+i.list;else if(i.mediaType===this.mediaTypes.APITRACK&&i.id)c="https://api.soundcloud.com/tracks/"+i.id;else if(i.mediaType===this.mediaTypes.APIPLAYLIST&&i.list)c="https://api.soundcloud.com/playlists/"+i.list;else return;return c+=Qe(o),f&&(c+="#t="+f),c},ye.prototype.createEmbedUrl=function(i,o){var c="https://w.soundcloud.com/player/";if(delete o.start,i.mediaType===this.mediaTypes.APITRACK&&i.id)o.url="https%3A//api.soundcloud.com/tracks/"+i.id;else if(i.mediaType===this.mediaTypes.APIPLAYLIST&&i.list)o.url="https%3A//api.soundcloud.com/playlists/"+i.list;else return;return c+=Qe(o),c},v.bind(new ye);var Pt=h.combineParams;function be(){this.provider="teachertube",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",AUDIO:"audio",DOCUMENT:"document",CHANNEL:"channel",COLLECTION:"collection",GROUP:"group"}}be.prototype.parse=function(i,o){var c={};c.list=this.parsePlaylist(o),c.params=o;var f=i.match(/\/(audio|video|document|user\/channel|collection|group)\/(?:[\w-]+-)?(\w+)/);if(f)return c.mediaType=this.parseMediaType(f[1]),c.id=f[2],c},be.prototype.parsePlaylist=function(i){if(i["playlist-id"]){var o=i["playlist-id"];return delete i["playlist-id"],o}},be.prototype.parseMediaType=function(i){switch(i){case"audio":return this.mediaTypes.AUDIO;case"video":return this.mediaTypes.VIDEO;case"document":return this.mediaTypes.DOCUMENT;case"user/channel":return this.mediaTypes.CHANNEL;case"collection":return this.mediaTypes.COLLECTION;case"group":return this.mediaTypes.GROUP}},be.prototype.createLongUrl=function(i,o){if(i.id){var c="https://www.teachertube.com/";return i.list&&(o["playlist-id"]=i.list),i.mediaType===this.mediaTypes.CHANNEL?c+="user/channel/":c+=i.mediaType+"/",c+=i.id,c+=Pt(o),c}},be.prototype.createEmbedUrl=function(i,o){if(i.id){var c="https://www.teachertube.com/embed/";if(i.mediaType===this.mediaTypes.VIDEO||i.mediaType===this.mediaTypes.AUDIO)c+=i.mediaType+"/"+i.id;else return;return c+=Pt(o),c}},v.bind(new be);var Jr=h.combineParams;function Je(){this.provider="tiktok",this.defaultFormat="long",this.formats={long:this.createLongUrl},this.mediaTypes={VIDEO:"video"}}Je.prototype.parse=function(i,o){var c={params:o,mediaType:this.mediaTypes.VIDEO},f=i.match(/@([^/]+)\/video\/(\d{19})/);if(f)return c.channel=f[1],c.id=f[2],c},Je.prototype.createLongUrl=function(i,o){var c="";if(i.mediaType===this.mediaTypes.VIDEO&&i.id&&i.channel)c+="https://www.tiktok.com/@".concat(i.channel,"/video/").concat(i.id);else return;return c+=Jr(o),c},v.bind(new Je);var Ct=h.combineParams;function ve(){this.provider="ted",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist"}}ve.prototype.parseUrl=function(i,o){var c=i.match(/\/(talks|playlists\/(\d+))\/([\w-]+)/i),f=c?c[1]:void 0;return f&&(o.channel=f.split("/")[0],o.id=c[3],o.channel==="playlists"&&(o.list=c[2])),o},ve.prototype.parseMediaType=function(i){return i.id&&i.channel==="playlists"&&(delete i.channel,i.mediaType=this.mediaTypes.PLAYLIST),i.id&&i.channel==="talks"&&(delete i.channel,i.mediaType=this.mediaTypes.VIDEO),i},ve.prototype.parse=function(i,o){var c={params:o};if(c=this.parseUrl(i,c),c=this.parseMediaType(c),!!c.id)return c},ve.prototype.createLongUrl=function(i,o){var c="";if(i.mediaType===this.mediaTypes.VIDEO&&i.id)c+="https://ted.com/talks/"+i.id;else if(i.mediaType===this.mediaTypes.PLAYLIST&&i.id)c+="https://ted.com/playlists/"+i.list+"/"+i.id;else return;return c+=Ct(o),c},ve.prototype.createEmbedUrl=function(i,o){var c="https://embed.ted.com/";if(i.mediaType===this.mediaTypes.PLAYLIST&&i.id)c+="playlists/"+i.list+"/"+i.id;else if(i.mediaType===this.mediaTypes.VIDEO&&i.id)c+="talks/"+i.id;else return;return c+=Ct(o),c},v.bind(new ve);var Ot=h.combineParams;function $e(){this.provider="facebook",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,watch:this.createWatchUrl},this.mediaTypes={VIDEO:"video"}}$e.prototype.parse=function(i,o){var c={params:o,mediaType:this.mediaTypes.VIDEO},f=i.match(/(?:\/(\d+))?\/videos(?:\/.*?)?\/(\d+)/i);if(f&&(f[1]&&(c.pageId=f[1]),c.id=f[2]),o.v&&!c.id&&(c.id=o.v,delete o.v,c.params=o),!!c.id)return c},$e.prototype.createWatchUrl=function(i,o){var c="https://facebook.com/watch/";if(!(i.mediaType!==this.mediaTypes.VIDEO||!i.id))return o={v:i.id},c+=Ot(o),c},$e.prototype.createLongUrl=function(i,o){var c="https://facebook.com/";if(i.pageId)c+=i.pageId;else return;if(i.mediaType===this.mediaTypes.VIDEO&&i.id)c+="/videos/"+i.id;else return;return c+=Ot(o),c},v.bind(new $e);var en=v;return en})})(rr);var Wn=rr.exports;const Zn=Kt(Wn),Gn=({isEdited:t})=>{const{t:e}=Le("translation",{keyPrefix:"General"});return d.jsx(d.Fragment,{children:t&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("svg",{width:8,height:8,className:"fill-darkZinc",children:d.jsx("use",{href:J+"#icon-pencil"})}),d.jsx("p",{className:"text-sm text-darkZinc",children:e("Edited")})]})})};var Yn=function(e,r,n){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async="async"in r?!!r.async:!0,a.src=e,r.attrs&&Xn(a,r.attrs),r.text&&(a.text=""+r.text);var l="onload"in a?It:Kn;l(a,n),a.onload||It(a,n),s.appendChild(a)};function Xn(t,e){for(var r in e)t.setAttribute(r,e[r])}function It(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Kn(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}var qn=function(e){return Qn(e)&&!Jn(e)};function Qn(t){return!!t&&typeof t=="object"}function Jn(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ri(t)}var ei=typeof Symbol=="function"&&Symbol.for,ti=ei?Symbol.for("react.element"):60103;function ri(t){return t.$$typeof===ti}function ni(t){return Array.isArray(t)?[]:{}}function ke(t,e){return e.clone!==!1&&e.isMergeableObject(t)?xe(ni(t),t,e):t}function ii(t,e,r){return t.concat(e).map(function(n){return ke(n,r)})}function si(t,e){if(!e.customMerge)return xe;var r=e.customMerge(t);return typeof r=="function"?r:xe}function ai(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Dt(t){return Object.keys(t).concat(ai(t))}function nr(t,e){try{return e in t}catch{return!1}}function oi(t,e){return nr(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function li(t,e,r){var n={};return r.isMergeableObject(t)&&Dt(t).forEach(function(s){n[s]=ke(t[s],r)}),Dt(e).forEach(function(s){oi(t,s)||(nr(t,s)&&r.isMergeableObject(e[s])?n[s]=si(s,r)(t[s],e[s],r):n[s]=ke(e[s],r))}),n}function xe(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||ii,r.isMergeableObject=r.isMergeableObject||qn,r.cloneUnlessOtherwiseSpecified=ke;var n=Array.isArray(e),s=Array.isArray(t),a=n===s;return a?n?r.arrayMerge(t,e,r):li(t,e,r):ke(e,r)}xe.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return xe(n,s,r)},{})};var ci=xe,ir=ci,di=Object.create,Ze=Object.defineProperty,ui=Object.getOwnPropertyDescriptor,hi=Object.getOwnPropertyNames,pi=Object.getPrototypeOf,fi=Object.prototype.hasOwnProperty,mi=(t,e)=>{for(var r in e)Ze(t,r,{get:e[r],enumerable:!0})},sr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of hi(e))!fi.call(t,s)&&s!==r&&Ze(t,s,{get:()=>e[s],enumerable:!(n=ui(e,s))||n.enumerable});return t},bt=(t,e,r)=>(r=t!=null?di(pi(t)):{},sr(e||!t||!t.__esModule?Ze(r,"default",{value:t,enumerable:!0}):r,t)),yi=t=>sr(Ze({},"__esModule",{value:!0}),t),ar={};mi(ar,{callPlayer:()=>ki,getConfig:()=>Ii,getSDK:()=>Mi,isBlobUrl:()=>Li,isMediaStream:()=>ji,lazy:()=>wi,omit:()=>Di,parseEndTime:()=>Ci,parseStartTime:()=>Pi,queryString:()=>Si,randomString:()=>Oi,supportsWebKitPresentationMode:()=>Ai});var Ge=yi(ar),gi=bt(y),bi=bt(Yn),vi=bt(ir);const wi=t=>gi.default.lazy(async()=>{const e=await t();return typeof e.default=="function"?e:e.default}),Ti=/[?&#](?:start|t)=([0-9hms]+)/,Ei=/[?&#]end=([0-9hms]+)/,ot=/(\d+)(h|m|s)/g,xi=/^\d+$/;function or(t,e){if(t instanceof Array)return;const r=t.match(e);if(r){const n=r[1];if(n.match(ot))return _i(n);if(xi.test(n))return parseInt(n)}}function _i(t){let e=0,r=ot.exec(t);for(;r!==null;){const[,n,s]=r;s==="h"&&(e+=parseInt(n,10)*60*60),s==="m"&&(e+=parseInt(n,10)*60),s==="s"&&(e+=parseInt(n,10)),r=ot.exec(t)}return e}function Pi(t){return or(t,Ti)}function Ci(t){return or(t,Ei)}function Oi(){return Math.random().toString(36).substr(2,5)}function Si(t){return Object.keys(t).map(e=>`${e}=${t[e]}`).join("&")}function et(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}const we={},Mi=function(e,r,n=null,s=()=>!0,a=bi.default){const l=et(r);return l&&s(l)?Promise.resolve(l):new Promise((u,h)=>{if(we[e]){we[e].push({resolve:u,reject:h});return}we[e]=[{resolve:u,reject:h}];const p=m=>{we[e].forEach(g=>g.resolve(m))};if(n){const m=window[n];window[n]=function(){m&&m(),p(et(r))}}a(e,m=>{m?(we[e].forEach(g=>g.reject(m)),we[e]=null):n||p(et(r))})})};function Ii(t,e){return(0,vi.default)(e.config,t.config)}function Di(t,...e){const r=[].concat(...e),n={},s=Object.keys(t);for(const a of s)r.indexOf(a)===-1&&(n[a]=t[a]);return n}function ki(t,...e){if(!this.player||!this.player[t]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${t}%c â€“ `;return this.player?this.player[t]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[t](...e)}function ji(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function Li(t){return/^blob:/.test(t)}function Ai(t=document.createElement("video")){const e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var vt=Object.defineProperty,Ui=Object.getOwnPropertyDescriptor,Ri=Object.getOwnPropertyNames,Ni=Object.prototype.hasOwnProperty,$i=(t,e)=>{for(var r in e)vt(t,r,{get:e[r],enumerable:!0})},Hi=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ri(e))!Ni.call(t,s)&&s!==r&&vt(t,s,{get:()=>e[s],enumerable:!(n=Ui(e,s))||n.enumerable});return t},Vi=t=>Hi(vt({},"__esModule",{value:!0}),t),lr={};$i(lr,{AUDIO_EXTENSIONS:()=>wt,DASH_EXTENSIONS:()=>Er,FLV_EXTENSIONS:()=>xr,HLS_EXTENSIONS:()=>Et,MATCH_URL_DAILYMOTION:()=>br,MATCH_URL_FACEBOOK:()=>hr,MATCH_URL_FACEBOOK_WATCH:()=>pr,MATCH_URL_KALTURA:()=>Tr,MATCH_URL_MIXCLOUD:()=>vr,MATCH_URL_MUX:()=>ur,MATCH_URL_SOUNDCLOUD:()=>cr,MATCH_URL_STREAMABLE:()=>fr,MATCH_URL_TWITCH_CHANNEL:()=>gr,MATCH_URL_TWITCH_VIDEO:()=>yr,MATCH_URL_VIDYARD:()=>wr,MATCH_URL_VIMEO:()=>dr,MATCH_URL_WISTIA:()=>mr,MATCH_URL_YOUTUBE:()=>lt,VIDEO_EXTENSIONS:()=>Tt,canPlay:()=>Fi});var zi=Vi(lr),kt=Ge;const lt=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,cr=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,dr=/vimeo\.com\/(?!progressive_redirect).+/,ur=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,hr=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,pr=/^https?:\/\/fb\.watch\/.+$/,fr=/streamable\.com\/([a-z0-9]+)$/,mr=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,yr=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,gr=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,br=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,vr=/mixcloud\.com\/([^/]+\/[^/]+)/,wr=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,Tr=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,wt=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,Tt=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,Et=/\.(m3u8)($|\?)/i,Er=/\.(mpd)($|\?)/i,xr=/\.(flv)($|\?)/i,ct=t=>{if(t instanceof Array){for(const e of t)if(typeof e=="string"&&ct(e)||ct(e.src))return!0;return!1}return(0,kt.isMediaStream)(t)||(0,kt.isBlobUrl)(t)?!0:wt.test(t)||Tt.test(t)||Et.test(t)||Er.test(t)||xr.test(t)},Fi={youtube:t=>t instanceof Array?t.every(e=>lt.test(e)):lt.test(t),soundcloud:t=>cr.test(t)&&!wt.test(t),vimeo:t=>dr.test(t)&&!Tt.test(t)&&!Et.test(t),mux:t=>ur.test(t),facebook:t=>hr.test(t)||pr.test(t),streamable:t=>fr.test(t),wistia:t=>mr.test(t),twitch:t=>yr.test(t)||gr.test(t),dailymotion:t=>br.test(t),mixcloud:t=>vr.test(t),vidyard:t=>wr.test(t),kaltura:t=>Tr.test(t),file:ct};var xt=Object.defineProperty,Bi=Object.getOwnPropertyDescriptor,Wi=Object.getOwnPropertyNames,Zi=Object.prototype.hasOwnProperty,Gi=(t,e)=>{for(var r in e)xt(t,r,{get:e[r],enumerable:!0})},Yi=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Wi(e))!Zi.call(t,s)&&s!==r&&xt(t,s,{get:()=>e[s],enumerable:!(n=Bi(e,s))||n.enumerable});return t},Xi=t=>Yi(xt({},"__esModule",{value:!0}),t),_r={};Gi(_r,{default:()=>qi});var Ki=Xi(_r),te=Ge,q=zi,qi=[{key:"youtube",name:"YouTube",canPlay:q.canPlay.youtube,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./YouTube-0a782a0b.js").then(t=>t.Y),["assets/YouTube-0a782a0b.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"soundcloud",name:"SoundCloud",canPlay:q.canPlay.soundcloud,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./SoundCloud-ac64bbf6.js").then(t=>t.S),["assets/SoundCloud-ac64bbf6.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"vimeo",name:"Vimeo",canPlay:q.canPlay.vimeo,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Vimeo-d460eff3.js").then(t=>t.V),["assets/Vimeo-d460eff3.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"mux",name:"Mux",canPlay:q.canPlay.mux,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Mux-e79cd305.js").then(t=>t.M),["assets/Mux-e79cd305.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"facebook",name:"Facebook",canPlay:q.canPlay.facebook,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Facebook-4a690dad.js").then(t=>t.F),["assets/Facebook-4a690dad.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"streamable",name:"Streamable",canPlay:q.canPlay.streamable,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Streamable-72e5f96f.js").then(t=>t.S),["assets/Streamable-72e5f96f.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"wistia",name:"Wistia",canPlay:q.canPlay.wistia,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Wistia-409269aa.js").then(t=>t.W),["assets/Wistia-409269aa.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"twitch",name:"Twitch",canPlay:q.canPlay.twitch,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Twitch-699a97ab.js").then(t=>t.T),["assets/Twitch-699a97ab.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"dailymotion",name:"DailyMotion",canPlay:q.canPlay.dailymotion,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./DailyMotion-565d65b1.js").then(t=>t.D),["assets/DailyMotion-565d65b1.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"mixcloud",name:"Mixcloud",canPlay:q.canPlay.mixcloud,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Mixcloud-c6593522.js").then(t=>t.M),["assets/Mixcloud-c6593522.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"vidyard",name:"Vidyard",canPlay:q.canPlay.vidyard,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Vidyard-aeaa8393.js").then(t=>t.V),["assets/Vidyard-aeaa8393.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"kaltura",name:"Kaltura",canPlay:q.canPlay.kaltura,lazyPlayer:(0,te.lazy)(()=>A(()=>import("./Kaltura-27b97086.js").then(t=>t.K),["assets/Kaltura-27b97086.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))},{key:"file",name:"FilePlayer",canPlay:q.canPlay.file,canEnablePIP:t=>q.canPlay.file(t)&&(document.pictureInPictureEnabled||(0,te.supportsWebKitPresentationMode)())&&!q.AUDIO_EXTENSIONS.test(t),lazyPlayer:(0,te.lazy)(()=>A(()=>import("./FilePlayer-4902eb2c.js").then(t=>t.F),["assets/FilePlayer-4902eb2c.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"]))}],jt=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Qi(t,e){return!!(t===e||jt(t)&&jt(e))}function Ji(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Qi(t[r],e[r]))return!1;return!0}function es(t,e){e===void 0&&(e=Ji);var r,n=[],s,a=!1;function l(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];return a&&r===this&&e(u,n)||(s=t.apply(this,u),a=!0,r=this,n=u),s}return l}const ts=Object.freeze(Object.defineProperty({__proto__:null,default:es},Symbol.toStringTag,{value:"Module"})),rs=sn(ts);var ns=typeof Element<"u",is=typeof Map=="function",ss=typeof Set=="function",as=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ze(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,s;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!ze(t[n],e[n]))return!1;return!0}var a;if(is&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!ze(n.value[1],e.get(n.value[0])))return!1;return!0}if(ss&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(as&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[n]))return!1;if(ns&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((s[n]==="_owner"||s[n]==="__v"||s[n]==="__o")&&t.$$typeof)&&!ze(t[s[n]],e[s[n]]))return!1;return!0}return t!==t&&e!==e}var Pr=function(e,r){try{return ze(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},os=Object.create,Ye=Object.defineProperty,ls=Object.getOwnPropertyDescriptor,cs=Object.getOwnPropertyNames,ds=Object.getPrototypeOf,us=Object.prototype.hasOwnProperty,hs=(t,e)=>{for(var r in e)Ye(t,r,{get:e[r],enumerable:!0})},Cr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of cs(e))!us.call(t,s)&&s!==r&&Ye(t,s,{get:()=>e[s],enumerable:!(n=ls(e,s))||n.enumerable});return t},ps=(t,e,r)=>(r=t!=null?os(ds(t)):{},Cr(e||!t||!t.__esModule?Ye(r,"default",{value:t,enumerable:!0}):r,t)),fs=t=>Cr(Ye({},"__esModule",{value:!0}),t),Or={};hs(Or,{defaultProps:()=>gs,propTypes:()=>ys});var Sr=fs(Or),ms=ps(pn);const{string:z,bool:Q,number:Te,array:tt,oneOfType:Se,shape:ie,object:W,func:N,node:Lt}=ms.default,ys={url:Se([z,tt,W]),playing:Q,loop:Q,controls:Q,volume:Te,muted:Q,playbackRate:Te,width:Se([z,Te]),height:Se([z,Te]),style:W,progressInterval:Te,playsinline:Q,pip:Q,stopOnUnmount:Q,light:Se([Q,z,W]),playIcon:Lt,previewTabIndex:Te,previewAriaLabel:z,fallback:Lt,oEmbedUrl:z,wrapper:Se([z,N,ie({render:N.isRequired})]),config:ie({soundcloud:ie({options:W}),youtube:ie({playerVars:W,embedOptions:W,onUnstarted:N}),facebook:ie({appId:z,version:z,playerId:z,attributes:W}),dailymotion:ie({params:W}),vimeo:ie({playerOptions:W,title:z}),mux:ie({attributes:W,version:z}),file:ie({attributes:W,tracks:tt,forceVideo:Q,forceAudio:Q,forceHLS:Q,forceSafariHLS:Q,forceDisableHls:Q,forceDASH:Q,forceFLV:Q,hlsOptions:W,hlsVersion:z,dashVersion:z,flvVersion:z}),wistia:ie({options:W,playerId:z,customControls:tt}),mixcloud:ie({options:W}),twitch:ie({options:W,playerId:z}),vidyard:ie({options:W})}),onReady:N,onStart:N,onPlay:N,onPause:N,onBuffer:N,onBufferEnd:N,onEnded:N,onError:N,onDuration:N,onSeek:N,onPlaybackRateChange:N,onPlaybackQualityChange:N,onProgress:N,onClickPreview:N,onEnablePIP:N,onDisablePIP:N},F=()=>{},gs={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:F},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:F,onStart:F,onPlay:F,onPause:F,onBuffer:F,onBufferEnd:F,onEnded:F,onError:F,onDuration:F,onSeek:F,onPlaybackRateChange:F,onPlaybackQualityChange:F,onProgress:F,onClickPreview:F,onEnablePIP:F,onDisablePIP:F};var bs=Object.create,Ae=Object.defineProperty,vs=Object.getOwnPropertyDescriptor,ws=Object.getOwnPropertyNames,Ts=Object.getPrototypeOf,Es=Object.prototype.hasOwnProperty,xs=(t,e,r)=>e in t?Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_s=(t,e)=>{for(var r in e)Ae(t,r,{get:e[r],enumerable:!0})},Mr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ws(e))!Es.call(t,s)&&s!==r&&Ae(t,s,{get:()=>e[s],enumerable:!(n=vs(e,s))||n.enumerable});return t},Ir=(t,e,r)=>(r=t!=null?bs(Ts(t)):{},Mr(e||!t||!t.__esModule?Ae(r,"default",{value:t,enumerable:!0}):r,t)),Ps=t=>Mr(Ae({},"__esModule",{value:!0}),t),R=(t,e,r)=>(xs(t,typeof e!="symbol"?e+"":e,r),r),Dr={};_s(Dr,{default:()=>Xe});var Cs=Ps(Dr),At=Ir(y),Os=Ir(Pr),kr=Sr,Ss=Ge;const Ms=5e3;class Xe extends At.Component{constructor(){super(...arguments),R(this,"mounted",!1),R(this,"isReady",!1),R(this,"isPlaying",!1),R(this,"isLoading",!0),R(this,"loadOnReady",null),R(this,"startOnPlay",!0),R(this,"seekOnPlay",null),R(this,"onDurationCalled",!1),R(this,"handlePlayerMount",e=>{if(this.player){this.progress();return}this.player=e,this.player.load(this.props.url),this.progress()}),R(this,"getInternalPlayer",e=>this.player?this.player[e]:null),R(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const e=this.getCurrentTime()||0,r=this.getSecondsLoaded(),n=this.getDuration();if(n){const s={playedSeconds:e,played:e/n};r!==null&&(s.loadedSeconds=r,s.loaded=r/n),(s.playedSeconds!==this.prevPlayed||s.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(s),this.prevPlayed=s.playedSeconds,this.prevLoaded=s.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),R(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:e,playing:r,volume:n,muted:s}=this.props;e(),!s&&n!==null&&this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),R(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:e,onPlay:r,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&n!==1&&this.player.setPlaybackRate(n),e(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),R(this,"handlePause",e=>{this.isPlaying=!1,this.isLoading||this.props.onPause(e)}),R(this,"handleEnded",()=>{const{activePlayer:e,loop:r,onEnded:n}=this.props;e.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,n())}),R(this,"handleError",(...e)=>{this.isLoading=!1,this.props.onError(...e)}),R(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const e=this.getDuration();e?this.onDurationCalled||(this.props.onDuration(e),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),R(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(e){if(!this.player)return;const{url:r,playing:n,volume:s,muted:a,playbackRate:l,pip:u,loop:h,activePlayer:p,disableDeferredLoading:m}=this.props;if(!(0,Os.default)(e.url,r)){if(this.isLoading&&!p.forceLoad&&!m&&!(0,Ss.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!e.playing&&n&&!this.isPlaying&&this.player.play(),e.playing&&!n&&this.isPlaying&&this.player.pause(),!e.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==s&&s!==null&&this.player.setVolume(s),e.muted!==a&&(a?this.player.mute():(this.player.unmute(),s!==null&&setTimeout(()=>this.player.setVolume(s)))),e.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),e.loop!==h&&this.player.setLoop&&this.player.setLoop(h)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(e,r,n){if(!this.isReady){e!==0&&(this.seekOnPlay=e,setTimeout(()=>{this.seekOnPlay=null},Ms));return}if(r?r==="fraction":e>0&&e<1){const a=this.player.getDuration();if(!a){console.warn("ReactPlayer: could not seek using fraction â€“Â duration not yet available");return}this.player.seekTo(a*e,n);return}this.player.seekTo(e,n)}render(){const e=this.props.activePlayer;return e?At.default.createElement(e,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}R(Xe,"displayName","Player");R(Xe,"propTypes",kr.propTypes);R(Xe,"defaultProps",kr.defaultProps);var Is=Object.create,Ue=Object.defineProperty,Ds=Object.getOwnPropertyDescriptor,ks=Object.getOwnPropertyNames,js=Object.getPrototypeOf,Ls=Object.prototype.hasOwnProperty,As=(t,e,r)=>e in t?Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Us=(t,e)=>{for(var r in e)Ue(t,r,{get:e[r],enumerable:!0})},jr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ks(e))!Ls.call(t,s)&&s!==r&&Ue(t,s,{get:()=>e[s],enumerable:!(n=Ds(e,s))||n.enumerable});return t},Re=(t,e,r)=>(r=t!=null?Is(js(t)):{},jr(e||!t||!t.__esModule?Ue(r,"default",{value:t,enumerable:!0}):r,t)),Rs=t=>jr(Ue({},"__esModule",{value:!0}),t),U=(t,e,r)=>(As(t,typeof e!="symbol"?e+"":e,r),r),Lr={};Us(Lr,{createReactPlayer:()=>Zs});var Ns=Rs(Lr),Ee=Re(y),$s=Re(ir),rt=Re(rs),Ut=Re(Pr),Ie=Sr,Ar=Ge,Hs=Re(Cs);const Vs=(0,Ar.lazy)(()=>A(()=>import("./Preview-0897a8d4.js").then(t=>t.P),["assets/Preview-0897a8d4.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"])),zs=typeof window<"u"&&window.document&&typeof document<"u",Fs=typeof Ve<"u"&&Ve.window&&Ve.window.document,Bs=Object.keys(Ie.propTypes),Ws=zs||Fs?Ee.Suspense:()=>null,Me=[],Zs=(t,e)=>{var r;return r=class extends Ee.Component{constructor(){super(...arguments),U(this,"state",{showPreview:!!this.props.light}),U(this,"references",{wrapper:n=>{this.wrapper=n},player:n=>{this.player=n}}),U(this,"handleClickPreview",n=>{this.setState({showPreview:!1}),this.props.onClickPreview(n)}),U(this,"showPreview",()=>{this.setState({showPreview:!0})}),U(this,"getDuration",()=>this.player?this.player.getDuration():null),U(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),U(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),U(this,"getInternalPlayer",(n="player")=>this.player?this.player.getInternalPlayer(n):null),U(this,"seekTo",(n,s,a)=>{if(!this.player)return null;this.player.seekTo(n,s,a)}),U(this,"handleReady",()=>{this.props.onReady(this)}),U(this,"getActivePlayer",(0,rt.default)(n=>{for(const s of[...Me,...t])if(s.canPlay(n))return s;return e||null})),U(this,"getConfig",(0,rt.default)((n,s)=>{const{config:a}=this.props;return $s.default.all([Ie.defaultProps.config,Ie.defaultProps.config[s]||{},a,a[s]||{}])})),U(this,"getAttributes",(0,rt.default)(n=>(0,Ar.omit)(this.props,Bs))),U(this,"renderActivePlayer",n=>{if(!n)return null;const s=this.getActivePlayer(n);if(!s)return null;const a=this.getConfig(n,s.key);return Ee.default.createElement(Hs.default,{...this.props,key:s.key,ref:this.references.player,config:a,activePlayer:s.lazyPlayer||s,onReady:this.handleReady})})}shouldComponentUpdate(n,s){return!(0,Ut.default)(this.props,n)||!(0,Ut.default)(this.state,s)}componentDidUpdate(n){const{light:s}=this.props;!n.light&&s&&this.setState({showPreview:!0}),n.light&&!s&&this.setState({showPreview:!1})}renderPreview(n){if(!n)return null;const{light:s,playIcon:a,previewTabIndex:l,oEmbedUrl:u,previewAriaLabel:h}=this.props;return Ee.default.createElement(Vs,{url:n,light:s,playIcon:a,previewTabIndex:l,previewAriaLabel:h,oEmbedUrl:u,onClick:this.handleClickPreview})}render(){const{url:n,style:s,width:a,height:l,fallback:u,wrapper:h}=this.props,{showPreview:p}=this.state,m=this.getAttributes(n),g=typeof h=="string"?this.references.wrapper:void 0;return Ee.default.createElement(h,{ref:g,style:{...s,width:a,height:l},...m},Ee.default.createElement(Ws,{fallback:u},p?this.renderPreview(n):this.renderActivePlayer(n)))}},U(r,"displayName","ReactPlayer"),U(r,"propTypes",Ie.propTypes),U(r,"defaultProps",Ie.defaultProps),U(r,"addCustomPlayer",n=>{Me.push(n)}),U(r,"removeCustomPlayers",()=>{Me.length=0}),U(r,"canPlay",n=>{for(const s of[...Me,...t])if(s.canPlay(n))return!0;return!1}),U(r,"canEnablePIP",n=>{for(const s of[...Me,...t])if(s.canEnablePIP&&s.canEnablePIP(n))return!0;return!1}),r};var Gs=Object.create,Ke=Object.defineProperty,Ys=Object.getOwnPropertyDescriptor,Xs=Object.getOwnPropertyNames,Ks=Object.getPrototypeOf,qs=Object.prototype.hasOwnProperty,Qs=(t,e)=>{for(var r in e)Ke(t,r,{get:e[r],enumerable:!0})},Ur=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Xs(e))!qs.call(t,s)&&s!==r&&Ke(t,s,{get:()=>e[s],enumerable:!(n=Ys(e,s))||n.enumerable});return t},Js=(t,e,r)=>(r=t!=null?Gs(Ks(t)):{},Ur(e||!t||!t.__esModule?Ke(r,"default",{value:t,enumerable:!0}):r,t)),ea=t=>Ur(Ke({},"__esModule",{value:!0}),t),Rr={};Qs(Rr,{default:()=>ia});var ta=ea(Rr),dt=Js(Ki),ra=Ns;const na=dt.default[dt.default.length-1];var ia=(0,ra.createReactPlayer)(dt.default,na);const sa=Kt(ta),Rt=t=>{const r=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.exec(t);return(r==null?void 0:r[1])??""},Nr=({source:t})=>t.includes("youtube")?d.jsx("iframe",{id:se.Player,title:Rt(t),width:"100%",height:300,allowFullScreen:!0,src:`https://www.youtube.com/embed/${Rt(t)}?showinfo=0&enablejsapi=1&origin=${window.location.hostname}`}):d.jsx(sa,{width:"100%",height:300,controls:!0,url:t}),aa=({textContentMsg:t,isVideo:e})=>d.jsxs(d.Fragment,{children:[d.jsx("a",{className:"text-decoration-line: w-full break-all text-nearBlackBlue transition-colors duration-150 hover:text-extraDarkBlue hover:underline dark:text-ultraDarkZinc hover:dark:text-darkZinc",href:t.startsWith("https://")?t:"https://"+t,target:"_blank",rel:"noreferrer noopener",children:t}),e&&d.jsx(Nr,{source:t})]});var oa={grad:.9,turn:360,rad:360/(2*Math.PI)},pe=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},H=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},le=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},$r=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Nt=function(t){return{r:le(t.r,0,255),g:le(t.g,0,255),b:le(t.b,0,255),a:le(t.a)}},nt=function(t){return{r:H(t.r),g:H(t.g),b:H(t.b),a:H(t.a,3)}},la=/^#([0-9a-f]{3,8})$/i,He=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Hr=function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=Math.max(e,r,n),l=a-Math.min(e,r,n),u=l?a===e?(r-n)/l:a===r?2+(n-e)/l:4+(e-r)/l:0;return{h:60*(u<0?u+6:u),s:a?l/a*100:0,v:a/255*100,a:s}},Vr=function(t){var e=t.h,r=t.s,n=t.v,s=t.a;e=e/360*6,r/=100,n/=100;var a=Math.floor(e),l=n*(1-r),u=n*(1-(e-a)*r),h=n*(1-(1-e+a)*r),p=a%6;return{r:255*[n,u,l,l,h,n][p],g:255*[h,n,n,u,l,l][p],b:255*[l,l,h,n,n,u][p],a:s}},$t=function(t){return{h:$r(t.h),s:le(t.s,0,100),l:le(t.l,0,100),a:le(t.a)}},Ht=function(t){return{h:H(t.h),s:H(t.s),l:H(t.l),a:H(t.a,3)}},Vt=function(t){return Vr((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},De=function(t){return{h:(e=Hr(t)).h,s:(s=(200-(r=e.s))*(n=e.v)/100)>0&&s<200?r*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,r,n,s},ca=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,da=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ua=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ha=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ut={string:[[function(t){var e=la.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?H(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?H(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ua.exec(t)||ha.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Nt({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=ca.exec(t)||da.exec(t);if(!e)return null;var r,n,s=$t({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(oa[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Vt(s)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,s=t.a,a=s===void 0?1:s;return pe(e)&&pe(r)&&pe(n)?Nt({r:Number(e),g:Number(r),b:Number(n),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,s=t.a,a=s===void 0?1:s;if(!pe(e)||!pe(r)||!pe(n))return null;var l=$t({h:Number(e),s:Number(r),l:Number(n),a:Number(a)});return Vt(l)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,s=t.a,a=s===void 0?1:s;if(!pe(e)||!pe(r)||!pe(n))return null;var l=function(u){return{h:$r(u.h),s:le(u.s,0,100),v:le(u.v,0,100),a:le(u.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(a)});return Vr(l)},"hsv"]]},zt=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},pa=function(t){return typeof t=="string"?zt(t.trim(),ut.string):typeof t=="object"&&t!==null?zt(t,ut.object):[null,void 0]},it=function(t,e){var r=De(t);return{h:r.h,s:le(r.s+100*e,0,100),l:r.l,a:r.a}},st=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Ft=function(t,e){var r=De(t);return{h:r.h,s:r.s,l:le(r.l+100*e,0,100),a:r.a}},ht=function(){function t(e){this.parsed=pa(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return H(st(this.rgba),2)},t.prototype.isDark=function(){return st(this.rgba)<.5},t.prototype.isLight=function(){return st(this.rgba)>=.5},t.prototype.toHex=function(){return e=nt(this.rgba),r=e.r,n=e.g,s=e.b,l=(a=e.a)<1?He(H(255*a)):"","#"+He(r)+He(n)+He(s)+l;var e,r,n,s,a,l},t.prototype.toRgb=function(){return nt(this.rgba)},t.prototype.toRgbString=function(){return e=nt(this.rgba),r=e.r,n=e.g,s=e.b,(a=e.a)<1?"rgba("+r+", "+n+", "+s+", "+a+")":"rgb("+r+", "+n+", "+s+")";var e,r,n,s,a},t.prototype.toHsl=function(){return Ht(De(this.rgba))},t.prototype.toHslString=function(){return e=Ht(De(this.rgba)),r=e.h,n=e.s,s=e.l,(a=e.a)<1?"hsla("+r+", "+n+"%, "+s+"%, "+a+")":"hsl("+r+", "+n+"%, "+s+"%)";var e,r,n,s,a},t.prototype.toHsv=function(){return e=Hr(this.rgba),{h:H(e.h),s:H(e.s),v:H(e.v),a:H(e.a,3)};var e},t.prototype.invert=function(){return oe({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),oe(it(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),oe(it(this.rgba,-e))},t.prototype.grayscale=function(){return oe(it(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),oe(Ft(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),oe(Ft(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?oe({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):H(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=De(this.rgba);return typeof e=="number"?oe({h:e,s:r.s,l:r.l,a:r.a}):H(r.h)},t.prototype.isEqual=function(e){return this.toHex()===oe(e).toHex()},t}(),oe=function(t){return t instanceof ht?t:new ht(t)},Bt=[],fa=function(t){t.forEach(function(e){Bt.indexOf(e)<0&&(e(ht,ut),Bt.push(e))})};function ma(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in r)n[r[s]]=s;var a={};t.prototype.toName=function(l){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,h,p=n[this.toHex()];if(p)return p;if(l!=null&&l.closest){var m=this.toRgb(),g=1/0,b="black";if(!a.length)for(var w in r)a[w]=new t(r[w]).toRgb();for(var v in r){var P=(u=m,h=a[v],Math.pow(u.r-h.r,2)+Math.pow(u.g-h.g,2)+Math.pow(u.b-h.b,2));P<g&&(g=P,b=v)}return b}},e.string.push([function(l){var u=l.toLowerCase(),h=u==="transparent"?"#0000":r[u];return h?new t(h).toRgb():null},"name"])}var ya={"3d":E.createElement("path",{d:"M18 14.625V3.375L9 0 0 3.375v11.25L9 18l9-3.375zM9 2.136l5.918 2.22-5.98 2.242-5.919-2.22L9 2.137zM2 13.239V5.065l6.438 2.414v8.174L2 13.24zM9.438 15.7L16 13.239V5.018l-6.563 2.46V15.7z",transform:"translate(15 10)",fillRule:"evenodd"}),acrobat:E.createElement("path",{d:"M10.15 1.095C9.938.33 9.42-.051 8.984.005c-.528.068-1.09.382-1.314.876-.63 1.416.685 5.582.887 6.279-1.28 3.863-5.66 11.5-7.806 12.017-.045-.505.225-1.965 3.055-3.785.146-.157.315-.348.393-.472-2.392 1.168-5.492 3.044-3.628 4.448.102.079.259.146.439.213 1.426.528 3.425-1.201 5.435-5.121 2.213-.73 3.999-1.28 6.526-1.662 2.762 1.875 4.616 2.257 5.874 1.774.348-.135.898-.573 1.055-1.145-1.022 1.258-3.414.382-5.323-.82 1.763-.191 3.582-.303 4.369-.056 1 .314.965.808.954.876.079-.27.191-.708-.022-1.056-.842-1.37-4.706-.573-6.11-.427-2.212-1.336-3.74-3.717-4.358-5.436.573-2.212 1.19-3.818.742-5.413zm-.954 4.638C8.826 4.42 8.309 1.5 9.14.556c1.628.932.618 3.144.056 5.177zm3.044 6.514c-2.134.393-3.583.944-5.66 1.764.617-1.202 1.785-4.268 2.346-6.29.787 1.573 1.741 3.111 3.314 4.526z",transform:"translate(14 9)",fillRule:"evenodd"}),android:E.createElement("path",{d:"M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.2C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z",transform:"translate(12 8)"}),audio:E.createElement("path",{d:"M.25 4.75v4.5h3L7 13V1L3.25 4.75h-3zM10.375 7A3.375 3.375 0 0 0 8.5 3.977v6.037A3.355 3.355 0 0 0 10.375 7zM8.5.421v1.545A5.254 5.254 0 0 1 12.25 7a5.254 5.254 0 0 1-3.75 5.032v1.545A6.747 6.747 0 0 0 13.75 7 6.747 6.747 0 0 0 8.5.421z",transform:"translate(17 12)",fillRule:"evenodd"}),binary:E.createElement("path",{d:"M2.338 6.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504C1.274.928.538 2 .538 3.608c0 1.56.576 2.504 1.8 2.504zM1.61 3.408c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zM2.418 5.2c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568zm7.03.8l.088-.944H8.36V.896L7.272.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zm5.199 0l.088-.944h-1.176V.896L12.47.984v.592l-1.184.112.024.824h1.16v2.544h-1.32V6zM4.25 14l.088-.944H3.162v-4.16l-1.088.088v.592L.89 9.688l.024.824h1.16v2.544H.754V14zm5.198 0l.088-.944H8.36v-4.16l-1.088.088v.592l-1.184.112.024.824h1.16v2.544h-1.32V14zm3.287.112c1.192 0 1.928-1.072 1.928-2.68 0-1.56-.576-2.504-1.8-2.504-1.192 0-1.928 1.072-1.928 2.68 0 1.56.576 2.504 1.8 2.504zm-.728-2.704c0-1.008.24-1.568.776-1.568.376 0 .616.336.728.888l-1.504.776v-.096zm.808 1.792c-.368 0-.608-.32-.72-.856l1.496-.768v.056c0 1.008-.24 1.568-.776 1.568z",transform:"translate(16 11)",fillRule:"evenodd"}),code:E.createElement("path",{d:"M4.078 13.67c-1.875-.527-2.812-1.738-2.812-3.634V9.49C1.266 8.437.844 7.911 0 7.911V6.138c.844 0 1.266-.529 1.266-1.586v-.64c.015-.938.257-1.696.726-2.274C2.466 1.06 3.162.64 4.078.38l.492 1.375c-.656.25-.997.95-1.023 2.102v.695c0 1.167-.482 1.99-1.445 2.469.963.479 1.445 1.304 1.445 2.476v.688c.026 1.15.367 1.851 1.023 2.101l-.492 1.383zm7.844 0c1.875-.527 2.812-1.738 2.812-3.634V9.49c0-1.052.422-1.578 1.266-1.578V6.138c-.844 0-1.266-.529-1.266-1.586v-.64c-.015-.938-.257-1.696-.726-2.274-.474-.578-1.17-.998-2.086-1.258l-.492 1.375c.656.25.997.95 1.023 2.102v.695c0 1.167.482 1.99 1.445 2.469-.963.479-1.445 1.304-1.445 2.476v.688c-.026 1.15-.367 1.851-1.023 2.101l.492 1.383z",transform:"translate(16 13)",fillRule:"evenodd"}),code2:E.createElement("path",{d:"M7.4 10.6L2.8 6l4.6-4.6L6 0 0 6l6 6 1.4-1.4zm5.2 0L17.2 6l-4.6-4.6L14 0l6 6-6 6-1.4-1.4z",transform:"translate(14 14)",fillRule:"evenodd"}),compressed:E.createElement("path",{d:"M.25 0A.25.25 0 0 0 0 .25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 1.75V.25A.25.25 0 0 0 1.75 0H.25zM1 17a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1H1zm0 4v3h2v-3H1zM2 2.25A.25.25 0 0 1 2.25 2h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 3.75v-1.5zM.25 4a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 5.75v-1.5A.25.25 0 0 0 1.75 4H.25zM2 6.25A.25.25 0 0 1 2.25 6h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5A.25.25 0 0 1 2 7.75v-1.5zM.25 8a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 2 9.75v-1.5A.25.25 0 0 0 1.75 8H.25zM2 10.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5zM.25 12a.25.25 0 0 0-.25.25v1.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-1.5a.25.25 0 0 0-.25-.25H.25zM2 14.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25h-1.5a.25.25 0 0 1-.25-.25v-1.5z",transform:"translate(15 1)",fillRule:"evenodd"}),document:E.createElement("path",{d:"M12 4H0v2h12V4zM0 10h18V8H0v2zM0 0v2h18V0H0z",transform:"translate(15 15)",fillRule:"evenodd"}),drive:E.createElement("path",{d:"M2.199.289A.5.5 0 0 1 2.652 0h8.696a.5.5 0 0 1 .453.289l1.867 4a.5.5 0 0 1-.453.711H.785a.5.5 0 0 1-.453-.711l1.867-4zM13 6H1a.752.752 0 0 0-.75.75v4.5c0 .412.338.75.75.75h12c.412 0 .75-.338.75-.75v-4.5A.752.752 0 0 0 13 6zm-9.75 4.5c-.825 0-1.5-.675-1.5-1.5s.675-1.5 1.5-1.5 1.5.675 1.5 1.5-.675 1.5-1.5 1.5z",transform:"translate(17 13)",fillRule:"evenodd"}),font:E.createElement("path",{d:"M3.722 8.702l-.686 1.89c-.053.14-.094.28-.123.421-.03.135-.044.252-.044.352 0 .304.097.527.29.668.2.14.501.21.905.21h.414V13H.083v-.756h.343c.176 0 .325-.018.448-.053a.81.81 0 0 0 .334-.22c.1-.105.193-.249.281-.43.094-.182.197-.416.308-.704L5.787.15h1.406l4.07 11.136c.07.187.14.343.21.466.077.123.165.222.264.298.1.07.214.12.343.15.129.03.281.044.457.044h.237V13H7.826v-.756h.413c.72 0 1.081-.287 1.081-.862 0-.1-.014-.202-.044-.307a3.274 3.274 0 0 0-.105-.36l-.72-2.013H3.72zM7.009 4.65c-.188-.533-.36-1.031-.519-1.494a15.92 15.92 0 0 1-.378-1.354 7.12 7.12 0 0 1-.15.633 16.95 16.95 0 0 1-.395 1.283c-.082.229-.175.484-.28.765L4.063 7.796h4.061L7.009 4.65zm8.411 5.74c0 .562.117.984.351 1.265.24.275.61.413 1.108.413.363 0 .691-.059.984-.176.3-.117.551-.284.756-.5.211-.218.372-.481.483-.792.112-.31.168-.656.168-1.037V8.104l-1.152.053c-.51.023-.937.088-1.283.193-.34.1-.615.243-.826.43a1.546 1.546 0 0 0-.457.678c-.088.27-.132.58-.132.931zm2.18-6.32c-.346 0-.627.05-.844.15a1.182 1.182 0 0 0-.501.404 1.594 1.594 0 0 0-.237.624c-.041.24-.062.5-.062.782-.498 0-.879-.085-1.143-.255-.257-.17-.386-.463-.386-.879 0-.31.085-.574.255-.79.17-.218.401-.393.694-.528.299-.14.644-.243 1.037-.308a7.76 7.76 0 0 1 1.257-.097c.55 0 1.031.056 1.441.167.41.106.753.282 1.029.528.275.246.48.568.615.967.14.392.21.876.21 1.45v4.667c0 .252.021.46.062.624a.928.928 0 0 0 .194.395c.088.1.202.17.343.211.146.041.319.062.518.062h.053V13H19.7l-.281-1.547h-.15c-.187.252-.369.483-.544.694-.176.211-.37.393-.58.545-.211.152-.452.27-.721.352a3.053 3.053 0 0 1-.958.131c-.399 0-.77-.058-1.116-.175a2.369 2.369 0 0 1-.888-.519 2.516 2.516 0 0 1-.58-.896c-.14-.364-.211-.791-.211-1.284 0-.955.34-1.664 1.02-2.127.68-.462 1.707-.714 3.084-.755l1.495-.053V6.285a6.93 6.93 0 0 0-.053-.888 1.778 1.778 0 0 0-.229-.703 1.14 1.14 0 0 0-.51-.457c-.216-.111-.51-.167-.878-.167z",transform:"translate(13 12)",fillRule:"evenodd"}),image:E.createElement("path",{d:"M13 0L9.25 5l2.85 3.8-1.6 1.2C8.81 7.75 6 4 6 4l-6 8h22L13 0z",transform:"translate(13 14)",fillRule:"evenodd"}),presentation:E.createElement("path",{d:"M2 4H0v10c0 1.1.9 2 2 2h14v-2H2V4zm16-4H6C4.9 0 4 .9 4 2v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V2c0-1.1-.9-2-2-2zm0 10H6V2h12v8z",transform:"matrix(-1 0 0 1 34 12)",fillRule:"evenodd"}),settings:E.createElement("path",{d:"M13.572 8.735c.03-.24.053-.48.053-.735s-.023-.495-.053-.735l1.583-1.237a.378.378 0 0 0 .09-.48l-1.5-2.595a.377.377 0 0 0-.457-.165l-1.868.75a5.48 5.48 0 0 0-1.268-.735L9.868.815A.366.366 0 0 0 9.5.5h-3a.366.366 0 0 0-.367.315l-.285 1.988a5.762 5.762 0 0 0-1.268.735l-1.868-.75a.366.366 0 0 0-.457.165l-1.5 2.595a.37.37 0 0 0 .09.48l1.583 1.237c-.03.24-.053.488-.053.735 0 .248.022.495.053.735L.845 9.973a.378.378 0 0 0-.09.48l1.5 2.595c.09.165.292.225.458.165l1.867-.75c.39.3.81.547 1.268.735l.285 1.987c.022.18.18.315.367.315h3a.366.366 0 0 0 .367-.315l.285-1.988a5.762 5.762 0 0 0 1.268-.734l1.867.75c.173.067.368 0 .458-.165l1.5-2.595a.378.378 0 0 0-.09-.48l-1.582-1.238zM8 10.625A2.628 2.628 0 0 1 5.375 8 2.628 2.628 0 0 1 8 5.375 2.628 2.628 0 0 1 10.625 8 2.628 2.628 0 0 1 8 10.625z",transform:"translate(16 11)",fillRule:"evenodd"}),spreadsheet:E.createElement("path",{d:"M0 8h6V5H0v3zm0 5h6v-3H0v3zM0 3h6V0H0v3zm8 5h12V5H8v3zm0 5h12v-3H8v3zM8 0v3h12V0H8z",transform:"translate(14 14)",fillRule:"evenodd"}),vector:E.createElement("path",{d:"M14.5 2V1a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v1H3.937a2 2 0 1 0 0 1h3.936A9 9 0 0 0 3 11v1h2v-1a7.003 7.003 0 0 1 4.594-6.576A1 1 0 0 0 10.5 5h3a1 1 0 0 0 .906-.576A7.003 7.003 0 0 1 19 11v1h2v-1a9 9 0 0 0-4.873-8h3.936a2 2 0 1 0 0-1H14.5zm-1-1h-3v3h3V1zM2 1.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm19 1a1 1 0 1 0 2 0 1 1 0 0 0-2 0z",transform:"translate(12 14)",fillRule:"evenodd"}),video:E.createElement("path",{d:"M10.75 3.875V1.25A.752.752 0 0 0 10 .5H1a.752.752 0 0 0-.75.75v7.5c0 .412.338.75.75.75h9c.412 0 .75-.338.75-.75V6.125l3 3V.875l-3 3z",transform:"translate(17 14)"})};fa([ma]);var ga={color:ae.string,extension:ae.string,fold:ae.bool,foldColor:ae.string,glyphColor:ae.string,gradientColor:ae.string,gradientOpacity:ae.number,labelColor:ae.string,labelTextColor:ae.string,labelUppercase:ae.bool,radius:ae.number,type:ae.oneOf(["3d","acrobat","android","audio","binary","code","code2","compressed","document","drive","font","image","presentation","settings","spreadsheet","vector","video"])},Fe={WIDTH:40,HEIGHT:48},D={WIDTH:Fe.WIDTH,HEIGHT:Fe.HEIGHT,X_OFFSET:0},fe={HEIGHT:12},Wt=14,ba=E.useId||function(){var t=0;return function(){return t++}}(),zr=function(e){var r=e.color,n=r===void 0?"whitesmoke":r,s=e.extension,a=e.fold,l=a===void 0?!0:a,u=e.foldColor,h=e.glyphColor,p=e.gradientColor,m=p===void 0?"white":p,g=e.gradientOpacity,b=g===void 0?.25:g,w=e.labelColor,v=e.labelTextColor,P=v===void 0?"white":v,S=e.labelUppercase,x=S===void 0?!1:S,O=e.radius,T=O===void 0?4:O,k=e.type,I=ba(),C=typeof jest>"u"?I:"";return E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+Fe.WIDTH+" "+Fe.HEIGHT,width:"100%",style:{maxWidth:"100%"}},E.createElement("defs",null,E.createElement("clipPath",{id:"pageRadius"+C},E.createElement("rect",{x:D.X_OFFSET,y:"0",rx:T,ry:T,width:D.WIDTH,height:D.HEIGHT})),E.createElement("clipPath",{id:"foldCrop"+C},E.createElement("rect",{width:D.WIDTH,height:fe.HEIGHT,transform:"rotate(-45 0 "+fe.HEIGHT+")"})),E.createElement("linearGradient",{x1:"100%",y1:"0%",y2:"100%",id:"pageGradient"+C},E.createElement("stop",{stopColor:m,stopOpacity:b,offset:"0%"}),E.createElement("stop",{stopColor:m,stopOpacity:"0",offset:"66.67%"}))),E.createElement("g",{id:"file",clipPath:"url(#pageRadius"+C+")"},l?E.createElement(E.Fragment,null,E.createElement("path",{d:"M"+D.X_OFFSET+" 0 h "+(D.WIDTH-fe.HEIGHT)+" L "+(D.WIDTH+D.X_OFFSET)+" "+fe.HEIGHT+" v "+(D.HEIGHT-fe.HEIGHT)+" H "+D.X_OFFSET+" Z",fill:n}),E.createElement("path",{d:"M"+D.X_OFFSET+" 0 h "+(D.WIDTH-fe.HEIGHT)+" L "+(D.WIDTH+D.X_OFFSET)+" "+fe.HEIGHT+" v "+(D.HEIGHT-fe.HEIGHT)+" H "+D.X_OFFSET+" Z",fill:"url(#pageGradient"+C+")"})):E.createElement(E.Fragment,null,E.createElement("rect",{x:D.X_OFFSET,y:"0",width:D.WIDTH,height:D.HEIGHT,fill:n}),E.createElement("rect",{x:D.X_OFFSET,y:"0",width:D.WIDTH,height:D.HEIGHT,fill:"url(#pageGradient"+C+")"}))),l&&E.createElement("g",{transform:"translate(28 "+fe.HEIGHT+") rotate(-90)"},E.createElement("rect",{width:D.WIDTH,height:D.HEIGHT,fill:u||oe(n).darken(.1).toHex(),rx:T,ry:T,clipPath:"url(#foldCrop"+C+")"})),s&&E.createElement(E.Fragment,null,E.createElement("g",{id:"label"+C},E.createElement("rect",{fill:w||oe(n).darken(.3).toHex(),x:D.X_OFFSET,y:D.HEIGHT-Wt,width:D.WIDTH,height:Wt,clipPath:"url(#pageRadius"+C+")"})),E.createElement("g",{id:"labelText"+C,transform:"translate("+D.X_OFFSET+" 34)"},E.createElement("text",{x:D.WIDTH/2,y:"10",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",fontSize:"9",fill:P,textAnchor:"middle",style:{fontWeight:"bold",textAlign:"center",pointerEvents:"none",textTransform:x?"uppercase":"none",userSelect:"none"}},s))),k&&E.createElement("g",{transform:"translate(-4 "+(s?0:6)+")",fill:h||oe(n).darken(.15).toHex()},ya[k]))};zr.propTypes=ga;var va={"3dm":{labelColor:"#8D1A11",type:"3d"},"3ds":{labelColor:"#5FB9AD",type:"3d"},"3g2":{type:"video"},"3gp":{type:"video"},"7zip":{type:"compressed"},aab:{type:"android",labelColor:"#3DDC84"},aac:{type:"audio"},aep:{type:"video"},ai:{color:"#423325",gradientOpacity:0,labelColor:"#423325",labelTextColor:"#FF7F18",labelUppercase:!0,foldColor:"#FF7F18",radius:2},aif:{type:"audio"},aiff:{type:"audio"},apk:{type:"android",labelColor:"#3DDC84"},apkm:{type:"android",labelColor:"#3DDC84"},apks:{type:"android",labelColor:"#3DDC84"},asf:{type:"video"},asp:{type:"code"},aspx:{type:"code"},avi:{type:"video"},bin:{type:"binary"},bmp:{type:"image"},c:{type:"code"},cpp:{type:"code"},cs:{type:"code"},css:{type:"code"},csv:{type:"spreadsheet"},cue:{type:"document"},dll:{type:"settings"},dmg:{type:"drive"},doc:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},docx:{color:"#2C5898",foldColor:"#254A80",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#2C5898",labelUppercase:!0,type:"document"},dwg:{type:"vector"},dxf:{type:"vector"},eot:{type:"font"},eps:{type:"vector"},exe:{type:"settings"},flac:{type:"audio"},flv:{type:"video"},fnt:{type:"font"},fodp:{type:"presentation"},fods:{type:"spreadsheet"},fodt:{type:"document"},fon:{type:"font"},gif:{type:"image"},gz:{type:"compressed"},heic:{type:"image"},htm:{type:"code"},html:{type:"code"},indd:{color:"#4B2B36",gradientOpacity:0,labelColor:"#4B2B36",labelTextColor:"#FF408C",labelUppercase:!0,foldColor:"#FF408C",radius:2},ini:{type:"settings"},java:{type:"code"},jpeg:{type:"image"},jpg:{type:"image"},js:{labelColor:"#F7DF1E",type:"code"},json:{type:"code"},jsx:{labelColor:"#00D8FF",type:"code"},m4a:{type:"audio"},m4v:{type:"video"},max:{labelColor:"#5FB9AD",type:"3d"},md:{type:"document"},mid:{type:"audio"},mkv:{type:"video"},mov:{type:"video"},mp3:{type:"audio"},mp4:{type:"video"},mpeg:{type:"video"},mpg:{type:"video"},obj:{type:"3d"},odp:{type:"presentation"},ods:{type:"spreadsheet"},odt:{type:"document"},ogg:{type:"audio"},ogv:{type:"video"},otf:{type:"font"},pdf:{labelColor:"#D93831",type:"acrobat"},php:{labelColor:"#8892BE",type:"code"},pkg:{type:"3d"},plist:{type:"settings"},png:{type:"image"},ppt:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pptx:{color:"#D14423",foldColor:"#AB381D",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#D14423",labelUppercase:!0,type:"presentation"},pr:{type:"video"},ps:{type:"vector"},psd:{color:"#34364E",gradientOpacity:0,labelColor:"#34364E",labelTextColor:"#31C5F0",labelUppercase:!0,foldColor:"#31C5F0",radius:2},py:{labelColor:"#FFDE57",type:"code"},rar:{type:"compressed"},rb:{labelColor:"#BB271A",type:"code"},rm:{type:"video"},rtf:{type:"document"},scss:{labelColor:"#C16A98",type:"code"},sitx:{type:"compressed"},skp:{type:"3d"},svg:{type:"vector"},swf:{type:"video"},sys:{type:"settings"},tar:{type:"compressed"},tex:{type:"document"},tif:{type:"image"},tiff:{type:"image"},ts:{labelColor:"#3478C7",type:"code"},ttf:{type:"font"},txt:{type:"document"},wav:{type:"audio"},webm:{type:"video"},wmv:{type:"video"},woff:{type:"font"},wpd:{type:"document"},wps:{type:"document"},xapk:{type:"android",labelColor:"#3DDC84"},xlr:{type:"spreadsheet"},xls:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},xlsx:{color:"#1A754C",foldColor:"#16613F",glyphColor:"rgba(255,255,255,0.4)",labelColor:"#1A754C",labelUppercase:!0,type:"spreadsheet"},yml:{type:"code"},zip:{type:"compressed"},zipx:{type:"compressed"}};function Z(t,e,r,n){return new(r||(r=Promise))(function(s,a){function l(p){try{h(n.next(p))}catch(m){a(m)}}function u(p){try{h(n.throw(p))}catch(m){a(m)}}function h(p){var m;p.done?s(p.value):(m=p.value,m instanceof r?m:new r(function(g){g(m)})).then(l,u)}h((n=n.apply(t,e||[])).next())})}class Ne{constructor(){this.listeners={}}on(e,r,n){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(r),n==null?void 0:n.once){const s=()=>{this.un(e,s),this.un(e,r)};return this.on(e,s),s}return()=>this.un(e,r)}un(e,r){var n;(n=this.listeners[e])===null||n===void 0||n.delete(r)}once(e,r){return this.on(e,r,{once:!0})}unAll(){this.listeners={}}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(n=>n(...r))}}const Zt={decode:function(t,e){return Z(this,void 0,void 0,function*(){const r=new AudioContext({sampleRate:e});return r.decodeAudioData(t).finally(()=>r.close())})},createBuffer:function(t,e){return typeof t[0]=="number"&&(t=[t]),function(r){const n=r[0];if(n.some(s=>s>1||s<-1)){const s=n.length;let a=0;for(let l=0;l<s;l++){const u=Math.abs(n[l]);u>a&&(a=u)}for(const l of r)for(let u=0;u<s;u++)l[u]/=a}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:r=>t==null?void 0:t[r],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Fr(t,e){const r=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[n,s]of Object.entries(e))if(n==="children")for(const[a,l]of Object.entries(e))typeof l=="string"?r.appendChild(document.createTextNode(l)):r.appendChild(Fr(a,l));else n==="style"?Object.assign(r.style,s):n==="textContent"?r.textContent=s:r.setAttribute(n,s.toString());return r}function Gt(t,e,r){const n=Fr(t,e||{});return r==null||r.appendChild(n),n}var wa=Object.freeze({__proto__:null,createElement:Gt,default:Gt});const Ta={fetchBlob:function(t,e,r){return Z(this,void 0,void 0,function*(){const n=yield fetch(t,r);if(n.status>=400)throw new Error(`Failed to fetch ${t}: ${n.status} (${n.statusText})`);return function(s,a){Z(this,void 0,void 0,function*(){if(!s.body||!s.headers)return;const l=s.body.getReader(),u=Number(s.headers.get("Content-Length"))||0;let h=0;const p=g=>Z(this,void 0,void 0,function*(){h+=(g==null?void 0:g.length)||0;const b=Math.round(h/u*100);a(b)}),m=()=>Z(this,void 0,void 0,function*(){let g;try{g=yield l.read()}catch{return}g.done||(p(g.value),yield m())});m()})}(n.clone(),e),n.blob()})}};let Ea=class extends Ne{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)},{once:!0})}onMediaEvent(e,r,n){return this.media.addEventListener(e,r,n),()=>this.media.removeEventListener(e,r,n)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,r){const n=this.getSrc();if(e&&n===e)return;this.revokeSrc();const s=r instanceof Blob&&(this.canPlayType(r.type)||!e)?URL.createObjectURL(r):e;try{this.media.src=s}catch{this.media.src=e}}destroy(){this.media.pause(),this.isExternalMedia||(this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return Z(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=e}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,r){r!=null&&(this.media.preservesPitch=r),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}};class _e extends Ne{constructor(e,r){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.subscriptions=[],this.options=e;const n=this.parentFromOptionsContainer(e.container);this.parent=n;const[s,a]=this.initHtml();n.appendChild(s),this.container=s,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),r&&a.appendChild(r),this.initEvents()}parentFromOptionsContainer(e){let r;if(typeof e=="string"?r=document.querySelector(e):e instanceof HTMLElement&&(r=e),!r)throw new Error("Container not found");return r}initEvents(){const e=r=>{const n=this.wrapper.getBoundingClientRect(),s=r.clientX-n.left,a=r.clientY-n.top;return[s/n.width,a/n.height]};if(this.wrapper.addEventListener("click",r=>{const[n,s]=e(r);this.emit("click",n,s)}),this.wrapper.addEventListener("dblclick",r=>{const[n,s]=e(r);this.emit("dblclick",n,s)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:n,clientWidth:s}=this.scrollContainer,a=r/n,l=(r+s)/n;this.emit("scroll",a,l,r,r+s)}),typeof ResizeObserver=="function"){const r=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{r().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,r,n,s,a=3,l=0,u=100){if(!e)return()=>{};const h=matchMedia("(pointer: coarse)").matches;let p=()=>{};const m=g=>{if(g.button!==l)return;g.preventDefault(),g.stopPropagation();let b=g.clientX,w=g.clientY,v=!1;const P=Date.now(),S=I=>{if(I.preventDefault(),I.stopPropagation(),h&&Date.now()-P<u)return;const C=I.clientX,G=I.clientY,$=C-b,re=G-w;if(v||Math.abs($)>a||Math.abs(re)>a){const M=e.getBoundingClientRect(),{left:L,top:Y}=M;v||(n==null||n(b-L,w-Y),v=!0),r($,re,C-L,G-Y),b=C,w=G}},x=I=>{if(v){const C=I.clientX,G=I.clientY,$=e.getBoundingClientRect(),{left:re,top:M}=$;s==null||s(C-re,G-M)}p()},O=I=>{I.relatedTarget&&I.relatedTarget!==document.documentElement||x(I)},T=I=>{v&&(I.stopPropagation(),I.preventDefault())},k=I=>{v&&I.preventDefault()};document.addEventListener("pointermove",S),document.addEventListener("pointerup",x),document.addEventListener("pointerout",O),document.addEventListener("pointercancel",O),document.addEventListener("touchmove",k,{passive:!1}),document.addEventListener("click",T,{capture:!0}),p=()=>{document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",x),document.removeEventListener("pointerout",O),document.removeEventListener("pointercancel",O),document.removeEventListener("touchmove",k),setTimeout(()=>{document.removeEventListener("click",T,{capture:!0})},10)}};return e.addEventListener("pointerdown",m),()=>{p(),e.removeEventListener("pointerdown",m)}}(this.wrapper,(e,r,n)=>{this.emit("drag",Math.max(0,Math.min(1,n/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}))}getHeight(e,r){var n;const s=((n=this.audioData)===null||n===void 0?void 0:n.numberOfChannels)||1;if(e==null)return 128;if(!isNaN(Number(e)))return Number(e);if(e==="auto"){const a=this.parent.clientHeight||128;return r!=null&&r.every(l=>!l.overlay)?a/s:a}return 128}initHtml(){const e=document.createElement("div"),r=e.attachShadow({mode:"open"});return r.innerHTML=`
      <style>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,r]}setOptions(e){if(this.options.container!==e.container){const r=this.parentFromOptionsContainer(e.container);r.appendChild(this.container),this.parent=r}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:r}=this.scrollContainer,n=r*e;this.setScroll(n)}destroy(){var e,r;this.subscriptions.forEach(n=>n()),this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.unsubscribeOnScroll)===null||r===void 0||r.call(this)}createDelay(e=10){let r,n;const s=()=>{r&&clearTimeout(r),n&&n()};return this.timeouts.push(s),()=>new Promise((a,l)=>{s(),n=l,r=setTimeout(()=>{r=void 0,n=void 0,a()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const r=document.createElement("canvas"),n=r.getContext("2d"),s=r.height*(window.devicePixelRatio||1),a=n.createLinearGradient(0,0,0,s),l=1/(e.length-1);return e.forEach((u,h)=>{const p=h*l;a.addColorStop(p,u)}),a}renderBarWaveform(e,r,n,s){const a=e[0],l=e[1]||e[0],u=a.length,{width:h,height:p}=n.canvas,m=p/2,g=window.devicePixelRatio||1,b=r.barWidth?r.barWidth*g:1,w=r.barGap?r.barGap*g:r.barWidth?b/2:0,v=r.barRadius||0,P=h/(b+w)/u,S=v&&"roundRect"in n?"roundRect":"rect";n.beginPath();let x=0,O=0,T=0;for(let k=0;k<=u;k++){const I=Math.round(k*P);if(I>x){const $=Math.round(O*m*s),re=$+Math.round(T*m*s)||1;let M=m-$;r.barAlign==="top"?M=0:r.barAlign==="bottom"&&(M=p-re),n[S](x*(b+w),M,b,re,v),x=I,O=0,T=0}const C=Math.abs(a[k]||0),G=Math.abs(l[k]||0);C>O&&(O=C),G>T&&(T=G)}n.fill(),n.closePath()}renderLineWaveform(e,r,n,s){const a=l=>{const u=e[l]||e[0],h=u.length,{height:p}=n.canvas,m=p/2,g=n.canvas.width/h;n.moveTo(0,m);let b=0,w=0;for(let v=0;v<=h;v++){const P=Math.round(v*g);if(P>b){const x=m+(Math.round(w*m*s)||1)*(l===0?-1:1);n.lineTo(b,x),b=P,w=0}const S=Math.abs(u[v]||0);S>w&&(w=S)}n.lineTo(b,m)};n.beginPath(),a(0),a(1),n.fill(),n.closePath()}renderWaveform(e,r,n){if(n.fillStyle=this.convertColorValues(r.waveColor),r.renderFunction)return void r.renderFunction(e,n);let s=r.barHeight||1;if(r.normalize){const a=Array.from(e[0]).reduce((l,u)=>Math.max(l,Math.abs(u)),0);s=a?1/a:1}r.barWidth||r.barGap||r.barAlign?this.renderBarWaveform(e,r,n,s):this.renderLineWaveform(e,r,n,s)}renderSingleCanvas(e,r,n,s,a,l,u){const h=window.devicePixelRatio||1,p=document.createElement("canvas");p.width=Math.round(n*h),p.height=Math.round(s*h),p.style.width=`${n}px`,p.style.height=`${s}px`,p.style.left=`${Math.round(a)}px`,l.appendChild(p);const m=p.getContext("2d");if(this.renderWaveform(e,r,m),p.width>0&&p.height>0){const g=p.cloneNode(),b=g.getContext("2d");b.drawImage(p,0,0),b.globalCompositeOperation="source-in",b.fillStyle=this.convertColorValues(r.progressColor),b.fillRect(0,0,p.width,p.height),u.appendChild(g)}}renderMultiCanvas(e,r,n,s,a,l){const u=window.devicePixelRatio||1,{clientWidth:h}=this.scrollContainer;if(h*u>=n)return void this.renderSingleCanvas(e,r,n,s,0,a,l);const p=n/u;let m=Math.min(_e.MAX_CANVAS_WIDTH,h,p),g={};if(r.barWidth||r.barGap){const S=r.barWidth||.5,x=S+(r.barGap||S/2);m%x!=0&&(m=Math.floor(m/x)*x)}const b=S=>{if(S<0||S>=w||g[S])return;g[S]=!0;const x=S*m,O=Math.min(p-x,m);if(O<=0)return;const T=e.map(k=>{const I=Math.floor(x/p*k.length),C=Math.floor((x+O)/p*k.length);return k.slice(I,C)});this.renderSingleCanvas(T,r,O,s,x,a,l)},w=Math.ceil(p/m),v=this.scrollContainer.scrollLeft/p,P=Math.floor(v*w);b(P-1),b(P),b(P+1),w>1&&(this.unsubscribeOnScroll=this.on("scroll",()=>{const{scrollLeft:S}=this.scrollContainer,x=Math.floor(S/p*w);Object.keys(g).length>_e.MAX_NODES&&(a.innerHTML="",l.innerHTML="",g={}),b(x-1),b(x),b(x+1)}))}renderChannel(e,r,n,s){var{overlay:a}=r,l=function(m,g){var b={};for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&g.indexOf(w)<0&&(b[w]=m[w]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var v=0;for(w=Object.getOwnPropertySymbols(m);v<w.length;v++)g.indexOf(w[v])<0&&Object.prototype.propertyIsEnumerable.call(m,w[v])&&(b[w[v]]=m[w[v]])}return b}(r,["overlay"]);const u=document.createElement("div"),h=this.getHeight(l.height,l.splitChannels);u.style.height=`${h}px`,a&&s>0&&(u.style.marginTop=`-${h}px`),this.canvasWrapper.style.minHeight=`${h}px`,this.canvasWrapper.appendChild(u);const p=u.cloneNode();this.progressWrapper.appendChild(p),this.renderMultiCanvas(e,l,n,h,u,p)}render(e){return Z(this,void 0,void 0,function*(){var r;this.timeouts.forEach(h=>h()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const n=window.devicePixelRatio||1,s=this.scrollContainer.clientWidth,a=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=a>s;const l=this.options.fillParent&&!this.isScrollable,u=(l?s:a)*n;if(this.wrapper.style.width=l?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let h=0;h<e.numberOfChannels;h++){const p=Object.assign(Object.assign({},this.options),(r=this.options.splitChannels)===null||r===void 0?void 0:r[h]);this.renderChannel([e.getChannelData(h)],p,u,h)}else{const h=[e.getChannelData(0)];e.numberOfChannels>1&&h.push(e.getChannelData(1)),this.renderChannel(h,this.options,u,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){var e;if((e=this.unsubscribeOnScroll)===null||e===void 0||e.call(this),delete this.unsubscribeOnScroll,!this.audioData)return;const{scrollWidth:r}=this.scrollContainer,{right:n}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&r!==this.scrollContainer.scrollWidth){const{right:s}=this.progressWrapper.getBoundingClientRect();let a=s-n;a*=2,a=a<0?Math.floor(a):Math.ceil(a),a/=2,this.scrollContainer.scrollLeft+=a}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,r=!1){const{scrollLeft:n,scrollWidth:s,clientWidth:a}=this.scrollContainer,l=e*s,u=n,h=n+a,p=a/2;if(this.isDragging)l+30>h?this.scrollContainer.scrollLeft+=30:l-30<u&&(this.scrollContainer.scrollLeft-=30);else{(l<u||l>h)&&(this.scrollContainer.scrollLeft=l-(this.options.autoCenter?p:0));const m=l-n-p;r&&this.options.autoCenter&&m>0&&(this.scrollContainer.scrollLeft+=Math.min(m,10))}{const m=this.scrollContainer.scrollLeft,g=m/s,b=(m+a)/s;this.emit("scroll",g,b,m,m+a)}}renderProgress(e,r){if(isNaN(e))return;const n=100*e;this.canvasWrapper.style.clipPath=`polygon(${n}% 0, 100% 0, 100% 100%, ${n}% 100%)`,this.progressWrapper.style.width=`${n}%`,this.cursor.style.left=`${n}%`,this.cursor.style.transform=`translateX(-${Math.round(n)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,r)}exportImage(e,r,n){return Z(this,void 0,void 0,function*(){const s=this.canvasWrapper.querySelectorAll("canvas");if(!s.length)throw new Error("No waveform data");if(n==="dataURL"){const a=Array.from(s).map(l=>l.toDataURL(e,r));return Promise.resolve(a)}return Promise.all(Array.from(s).map(a=>new Promise((l,u)=>{a.toBlob(h=>{h?l(h):u(new Error("Could not export image"))},e,r)})))})}}_e.MAX_CANVAS_WIDTH=8e3,_e.MAX_NODES=10;class xa extends Ne{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class Yt extends Ne{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Z(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(r=>{if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return r.arrayBuffer()}).then(r=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(r)).then(r=>{this.currentSrc===e&&(this.buffer=r,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let r=this.playedDuration*this._playbackRate;r>=this.duration&&(r=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,r),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Z(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){var r,n;const s=e-this.currentTime;(r=this.bufferNode)===null||r===void 0||r.stop(this.audioContext.currentTime+s),(n=this.bufferNode)===null||n===void 0||n.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(e){return Z(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const r=!this.paused;r&&this._pause(),this.playedDuration=e/this._playbackRate,r&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,r;return(e=this._duration)!==null&&e!==void 0?e:((r=this.buffer)===null||r===void 0?void 0:r.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const r=this.buffer.numberOfChannels;for(let n=0;n<r;n++)e.push(this.buffer.getChannelData(n));return e}}const _a={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let pt=class Br extends Ea{static create(e){return new Br(e)}constructor(e){const r=e.media||(e.backend==="WebAudio"?new Yt:void 0);super({media:r,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},_a,e),this.timer=new xa;const n=r?void 0:this.getMediaElement();this.renderer=new _e(this.options,n),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const s=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:a,duration:l}=this.options;(s||a&&l)&&this.load(s,a,l).catch(()=>null)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e)}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop()}),this.onMediaEvent("emptied",()=>{this.timer.stop()}),this.onMediaEvent("ended",()=>{this.emit("finish")}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",e=>{this.emit("error",e.error)}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,r)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,r))}),this.renderer.on("dblclick",(e,r)=>{this.emit("dblclick",e,r)}),this.renderer.on("scroll",(e,r,n,s)=>{const a=this.getDuration();this.emit("scroll",e*a,r*a,n,s)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}));{let e;this.subscriptions.push(this.renderer.on("drag",r=>{if(!this.options.interact)return;let n;this.renderer.renderProgress(r),clearTimeout(e),this.isPlaying()?n=0:this.options.dragToSeek===!0?n=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(n=this.options.dragToSeek.debounceTime),e=setTimeout(()=>{this.seekTo(r)},n),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(r=>{this.registerPlugin(r)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(r=>r!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const r=e/this.getDuration();this.renderer.setScrollPercentage(r)}getActivePlugins(){return this.plugins}loadAudio(e,r,n,s){return Z(this,void 0,void 0,function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,!r&&!n){const u=this.options.fetchParams||{};window.AbortController&&!u.signal&&(this.abortController=new AbortController,u.signal=(a=this.abortController)===null||a===void 0?void 0:a.signal);const h=p=>this.emit("loading",p);r=yield Ta.fetchBlob(e,h,u)}this.setSrc(e,r);const l=yield new Promise(u=>{const h=s||this.getDuration();h?u(h):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>u(this.getDuration()),{once:!0}))});if(!e&&!r){const u=this.getMediaElement();u instanceof Yt&&(u.duration=l)}if(n)this.decodedData=Zt.createBuffer(n,l||0);else if(r){const u=yield r.arrayBuffer();this.decodedData=yield Zt.decode(u,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,r,n){return Z(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,r,n)}catch(s){throw this.emit("error",s),s}})}loadBlob(e,r,n){return Z(this,void 0,void 0,function*(){try{return yield this.loadAudio("",e,r,n)}catch(s){throw this.emit("error",s),s}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:r=8e3,precision:n=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const s=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let l=0;l<s;l++){const u=this.decodedData.getChannelData(l),h=[],p=u.length/r;for(let m=0;m<r;m++){const g=u.slice(Math.floor(m*p),Math.ceil((m+1)*p));let b=0;for(let w=0;w<g.length;w++){const v=g[w];Math.abs(v)>Math.abs(b)&&(b=v)}h.push(Math.round(b*n)/n)}a.push(h)}return a}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const r=this.getDuration()*e;this.setTime(r)}playPause(){return Z(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return Z(this,arguments,void 0,function*(e="image/png",r=1,n="dataURL"){return this.renderer.exportImage(e,r,n)})}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach(r=>r.destroy()),this.subscriptions.forEach(r=>r()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};pt.BasePlugin=class extends Ne{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},pt.dom=wa;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wr(t,e){const[r,n]=y.useState(null),s=y.useMemo(()=>Object.entries(e).flat(),[e]);return y.useEffect(()=>{if(!t.current)return;const a=pt.create(Object.assign(Object.assign({},e),{container:t.current}));return n(a),()=>{a.destroy()}},[t,...s]),r}const Zr=/^on([A-Z])/,Pa=t=>Zr.test(t);function Ca(t,e){const r=y.useMemo(()=>Object.entries(e).flat(),[e]);y.useEffect(()=>{if(!t)return;const n=Object.entries(e);if(!n.length)return;const s=n.map(([a,l])=>{const u=a.replace(Zr,(h,p)=>p.toLowerCase());return t.on(u,(...h)=>l(t,...h))});return()=>{s.forEach(a=>a())}},[t,...r])}y.memo(t=>{const e=y.useRef(null),[r,n]=function(s){return y.useMemo(()=>{const a=Object.assign({},s),l=Object.assign({},s);for(const u in a)Pa(u)?delete a[u]:delete l[u];return[a,l]},[s])}(t);return Ca(Wr(e,r),n),d.jsx("div",{ref:e})});function Oa(t){var{container:e}=t;const r=Wr(e,function(s,a){var l={};for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&a.indexOf(u)<0&&(l[u]=s[u]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(u=Object.getOwnPropertySymbols(s);h<u.length;h++)a.indexOf(u[h])<0&&Object.prototype.propertyIsEnumerable.call(s,u[h])&&(l[u[h]]=s[u[h]])}return l}(t,["container"])),n=function(s){const[a,l]=y.useState(!1),[u,h]=y.useState(!1),[p,m]=y.useState(0);return y.useEffect(()=>{if(!s)return;const g=[s.on("load",()=>{l(!1),h(!1),m(0)}),s.on("ready",()=>{l(!0),h(!1),m(0)}),s.on("play",()=>{h(!0)}),s.on("pause",()=>{h(!1)}),s.on("timeupdate",()=>{m(s.getCurrentTime())}),s.on("destroy",()=>{l(!1),h(!1)})];return()=>{g.forEach(b=>b())}},[s]),y.useMemo(()=>({isReady:a,isPlaying:u,currentTime:p}),[u,p,a])}(r);return y.useMemo(()=>Object.assign(Object.assign({},n),{wavesurfer:r}),[n,r])}const Sa=({isPlaying:t,onPlayPause:e})=>d.jsx("button",{className:"my-3 flex h-8 w-8 items-center justify-center rounded-full transition-all duration-300 hover:bg-lightZincOpacity40",type:"button",onClick:e,"aria-label":"Stop/Play",children:t?d.jsx("svg",{width:24,height:24,className:"fill-darkZinc dark:fill-mediumLightZinc",children:d.jsx("use",{href:J+"#icon-stop"})}):d.jsx("svg",{width:24,height:24,className:"fill-darkZinc dark:fill-mediumLightZinc",children:d.jsx("use",{href:J+"#icon-play"})})}),Ma=({audioUrl:t})=>{const[e,r]=y.useState(100),[n,s]=y.useState(!0),a=y.useRef(null),[l]=fn(e,50),{t:u}=Le("translation",{keyPrefix:"General"}),{wavesurfer:h,isPlaying:p,currentTime:m}=Oa({container:a,url:t,waveColor:"orange",height:50});y.useEffect(()=>{h&&(h.setVolume(l/100),s(!1))},[l,h]);const g=()=>{h==null||h.playPause()},b=w=>{const v=parseInt(w.target.value);r(v)};return d.jsxs("div",{className:"w-220px relative flex flex-row items-start gap-2 sm:w-200px md:min-w-220px md:max-w-md lg:min-w-360px",children:[d.jsx(Sa,{isPlaying:p,onPlayPause:g}),n&&d.jsx("div",{className:"absolute left-8 top-0",children:d.jsx(me,{size:50})}),d.jsxs("div",{className:"flex w-full flex-1 flex-col items-start",children:[d.jsx("div",{className:`${n&&"opacity-0"} w-full flex-1 sm:w-[95%] md:w-full`,ref:a}),d.jsxs("div",{className:"flex w-full justify-between sm:flex-col lg:flex-row",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx("p",{className:"text-dark dark:text-white",children:u("Time")}),p&&d.jsx("p",{className:"text-black dark:text-white",children:Mt(m)}),!p&&h&&d.jsx("p",{className:"text-black dark:text-white",children:Mt(h.getDuration())})]}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.jsx("p",{className:"text-dark dark:text-white",children:u("Volume")}),d.jsx("input",{className:"w-24 appearance-none bg-transparent sm:w-16 lg:w-24 [&::-webkit-slider-runnable-track]:rounded-full [&::-webkit-slider-runnable-track]:bg-mediumDarkZinc dark:[&::-webkit-slider-runnable-track]:bg-veryLightZinc [&::-webkit-slider-thumb]:h-10px [&::-webkit-slider-thumb]:w-10px [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-nearBlackZinc dark:[&::-webkit-slider-thumb]:bg-mediumDarkZinc",type:"range",min:"0",max:"100",value:e,onChange:b})]})]})]})]})},Ia=async t=>{const e=an(on,t);try{return await ln(e)}catch(r){return console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ URL:",r),null}},Da=t=>{const[e,r]=y.useState(null);return y.useEffect(()=>{(async()=>{const s=await Ia(t.url);s&&r(s)})()},[t]),e},ka=({file:t})=>{const e=Da(t),r=t.name.split(".").pop()||"default";return t.type.includes("video")?d.jsx(Nr,{source:t.url}):t.type.includes("audio")?d.jsx(Ma,{audioUrl:t.url}):d.jsx("div",{className:"flex h-40px w-full max-w-200px items-center gap-1",children:e&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"h-10 w-10",children:d.jsx(zr,{extension:r,...va[r]})}),d.jsx("span",{className:"w-full text-black dark:text-white",children:t.name}),d.jsx("a",{className:"w-10",target:"blank",href:e,children:"Link"})]})})},Gr=({filteredFiles:t})=>d.jsx(d.Fragment,{children:t==null?void 0:t.map(e=>d.jsx(ka,{file:e},`${e.name}-${e.type}`))});Gr.displayName="MessageFiles";const ja=(t,e,r)=>{const n=e.height??0,s=e.width??0;return n/s>1.4?t.length===1?336:r<=1?159:78.5:t.length===1?200:r<=1?159:78.5},La=(t,e,r)=>{const n=e.height??0;return(e.width??0)/n>1.4?t.length===1?336:r<=1?159:78.5:t.length===1?200:r<=1?159:78.5},Aa=({msg:t,file:e,index:r,handleClickPhoto:n})=>{const s=yt(e.url),a=t.data().file,l=ja(a,e,r),u=La(a,e,r);return d.jsx(gt,{loading:s,children:d.jsx("button",{className:`${s?"invisible":"block"} cursor-pointer overflow-hidden rounded-md object-cover`,style:{height:l,width:u},type:"button",onClick:()=>n(r),"aria-label":e.name,children:d.jsx("img",{className:"h-full w-full object-cover object-center",src:e.url,alt:e.type,loading:"lazy",id:se.Img})})})},Ua=t=>{var r;return(r=t.data().file)==null?void 0:r.map(n=>n.type.includes("image")?n:null).filter(n=>n!==null)},Ra=t=>{var r;return(r=t.data().file)==null?void 0:r.map(n=>n.type.includes("image")?{src:n.url}:null).filter(n=>n!==null)},Na=y.lazy(()=>A(()=>import("./index-991aded0.js"),["assets/index-991aded0.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css"])),$a=({msg:t})=>{var u,h;const[e,r]=y.useState(-1),n=_(p=>p.isSelectedMessages),s=Ra(t),a=Ua(t),l=p=>{n||r(p)};return d.jsx(d.Fragment,{children:((u=t.data().file)==null?void 0:u.some(p=>p.type.includes("image")))&&d.jsxs("div",{id:se.LightBoxContainer,className:`flex flex-wrap gap-0.5 sm:justify-center lg:justify-normal ${((h=t.data().file)==null?void 0:h.length)===1?"max-w-md":"w-160px max-w-xs lg:w-full"}`,children:[a.map((p,m)=>p.type.includes("image")?d.jsx(Aa,{msg:t,file:p,index:m,handleClickPhoto:l},`${p.name}-${p.type}`):null),e>=0&&d.jsx(y.Suspense,{fallback:d.jsx("div",{className:"absolute",children:d.jsx(me,{size:200})}),children:d.jsx("div",{onContextMenu:p=>p.stopPropagation(),children:d.jsx(Na,{index:e,slides:s,open:e>=0,close:()=>l(-1),carousel:{finite:!0},styles:{container:{pointerEvents:"auto",backgroundColor:"rgb(51 65 85 / 0.7)"}}})})})]})})},Ha=({userUID:t})=>{const e=Jt(t),r=yt(e==null?void 0:e.photoURL);return d.jsx(gt,{loading:r,children:d.jsx(er,{photoURL:e==null?void 0:e.photoURL,displayName:e==null?void 0:e.displayName,size:"20"})})},Va=({reactions:t})=>d.jsx("div",{className:"flex flex-row gap-1",children:t&&d.jsx(d.Fragment,{children:Object.entries(t).map(([e,r])=>d.jsxs("div",{className:"flex gap-0",children:[Array.isArray(r)&&r.map(n=>d.jsx(Ha,{userUID:n},n)),d.jsx("span",{children:e})]},e))})}),za=({msg:t})=>d.jsx("p",{children:t.data().isRead?d.jsx("svg",{width:24,height:24,className:"fill-ultraDarkZinc dark:fill-white",children:d.jsx("use",{href:J+"#icon-double-check"})}):d.jsx("svg",{width:24,height:24,className:"fill-ultraDarkZinc dark:fill-white",children:d.jsx("use",{href:J+"#icon-single-check"})})}),Fa=({myUID:t})=>d.jsx(d.Fragment,{children:t?d.jsx("svg",{width:16,height:16,className:"absolute -right-4 fill-mediumEmerald dark:fill-mediumDarkCyan",children:d.jsx("use",{href:J+"#icon-triangle-rigth"})}):d.jsx("svg",{width:16,height:16,className:"absolute -left-2 fill-veryLightZinc dark:fill-darkGreen",children:d.jsx("use",{href:J+"#icon-triangle-left"})})}),Ba=async(t,e)=>{t!==null&&je(Pe(de,"chats",t,"messages",`${e}`),{isRead:!0})},Wa=(t,e)=>{const{chatUID:r}=_(s=>s.currentChatInfo),n=_(s=>s.currentUser.uid);y.useEffect(()=>{t.data().senderUserID!==n&&!t.data().isRead&&r&&e&&Ba(r,t.id)},[r,n,e,t])},Za=t=>/((?:https?:\/\/)?(?:www\.)?[^\s]+\.[^\s]+)/gi.test(t),Ga=t=>{const e=new Date(t),r=e.getHours(),n=e.getMinutes();return`${r}:${n<10?"0":""}${n}`},Ya=t=>{var r;return((r=t.data().file)==null?void 0:r.filter(n=>!n.type.includes("image")))||null},Xa=({msg:t,isNearBottom:e})=>{var m,g;const r=_(b=>b.currentUser.uid),n=_(b=>b.isSelectedMessages);Wa(t,e);const s=r===t.data().senderUserID,a=t.data().message,l=Zn.parse(a),u=Za(a),h=(m=t.data().file)==null?void 0:m.some(b=>b.type.includes("image")),p=Ya(t);return d.jsxs("div",{id:se.Message,className:`relative flex w-full items-end xl:w-8/12 ${s?"justify-end":"justify-start"} ${n&&"pointer-events-none"}`,children:[d.jsxs("div",{className:`flex flex-col items-center px-4 py-2 ${u&&(l==null?void 0:l.mediaType)==="video"&&"w-full"} rounded-xl ${((g=t.data().file)==null?void 0:g.length)===1?"max-w-md":"max-w-xl"} ${s?"rounded-br-none bg-mediumEmerald dark:bg-mediumDarkCyan":"rounded-bl-none bg-veryLightZinc dark:bg-darkGreen"} shadow-secondaryShadow`,children:[h&&d.jsx($a,{msg:t}),p&&d.jsx(Gr,{filteredFiles:p}),u?d.jsx(aa,{textContentMsg:a,isVideo:(l==null?void 0:l.mediaType)==="video"}):d.jsx("p",{className:"w-full break-all text-black dark:text-white",children:t.data().message}),d.jsxs("div",{className:"flex w-full items-baseline justify-between gap-2",children:[d.jsx(Va,{reactions:t.data().reactions}),d.jsx(Gn,{isEdited:t.data().isEdited}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-nearBlackGreen dark:text-veryLightZinc",children:t.data().date&&Ga(t.data().date.toDate().toString())}),d.jsx(za,{msg:t})]})]})]}),d.jsx(Fa,{myUID:s})]})},Ka=({isSelectedMessages:t,currentItem:e})=>d.jsx(d.Fragment,{children:t&&e?d.jsx("svg",{id:se.Select,width:32,height:32,className:"fill-white",children:d.jsx("use",{href:J+"#icon-select"})}):t&&!e&&d.jsx("svg",{id:se.NotSelect,width:32,height:32,className:"fill-white",children:d.jsx("use",{href:J+"#icon-not-select"})})}),qa=({scrollToBottom:t,lengthOfUnreadMsgs:e})=>d.jsx("button",{className:"group absolute bottom-32 right-10 rounded-full bg-white p-2 outline-1 outline-mediumDarkGreen hover:scale-105 hover:outline",type:"button",onClick:t,"aria-label":"Scroll down",children:d.jsxs("div",{className:"relative",children:[d.jsx("svg",{className:"rotate-180 transition-all duration-150 group-hover:scale-125",width:24,height:24,children:d.jsx("use",{href:J+"#icon-scroll-up"})}),e>0&&d.jsx("span",{className:"absolute bottom-0 right-0 -mb-4 flex h-6 w-6 translate-x-4 transform items-center justify-center rounded-full bg-mediumDarkRed text-white",children:e})]})}),Qa=(t,e,r,n)=>{const{isFullScreen:s,heightWindow:a}=We(),l=y.useCallback(()=>{t.current&&t.current.scrollIntoView({block:"end"})},[t]);y.useEffect(()=>{e&&l()},[e,l]),y.useEffect(()=>{!s&&!r&&setTimeout(()=>{l()},100)},[r,s,l,a]),y.useEffect(()=>{e&&!r&&!s&&setTimeout(()=>{l()},300)},[s,e,r,l]),y.useEffect(()=>{r||l()},[n,r,l])},Ja=(t,e)=>{const r=new Date(t),n=r.getDate(),a=[e("MonthNames.January"),e("MonthNames.February"),e("MonthNames.March"),e("MonthNames.April"),e("MonthNames.May"),e("MonthNames.June"),e("MonthNames.July"),e("MonthNames.August"),e("MonthNames.September"),e("MonthNames.October"),e("MonthNames.November"),e("MonthNames.December")][r.getMonth()];return`${n} ${a}`},Yr=y.memo(y.forwardRef((t,e)=>{const{chatUID:r,groupedMessages:n,isReadyFirstMsgs:s,selectedDocDataMessage:a,handleClickRigthButtonMessage:l,handleToggleSelectedMessage:u,isScrollDownButtonVisible:h}=t,p=y.useRef(null),{t:m}=Le(),g=_(v=>v.isSelectedMessages),b=mn(r,!0,!1);Qa(p,s,h,n);const w=()=>{p.current&&p.current.scrollIntoView({behavior:"smooth",block:"end"})};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{ref:e,className:`flex min-h-full flex-col justify-end gap-2 px-6 ${!s&&"invisible"}`,children:[n&&Object.keys(n).map(v=>d.jsxs("ul",{className:`relative flex flex-col ${g?"gap-0":"gap-2"}`,children:[d.jsx("li",{className:"pointer-events-none sticky top-1 z-10 flex justify-center",children:d.jsx("p",{className:"w-min-0 whitespace-no-wrap rounded-xl bg-lightZincOpacity40 px-2 py-0.5 text-center text-veryLightGreen",children:Ja(v,m)})}),n[v].map(P=>{const S=a==null?void 0:a.find(x=>x.id===P.id);return d.jsxs("li",{id:se.DocumentDataMsg,className:`flex items-center justify-center gap-x-5 rounded-xl transition-all duration-150 ${S&&"bg-ultraDarkZinc"} ${g&&"hover:z-10 hover:cursor-pointer hover:outline hover:outline-1 hover:outline-white"}`,onContextMenu:x=>l(P,x),onClick:()=>g&&u(P),children:[d.jsx(Ka,{isSelectedMessages:g,currentItem:S}),d.jsx(Xa,{msg:P,isNearBottom:!h})]},P.id)})]},v)),d.jsx("div",{id:se.BottomItem,ref:p,className:"h-0 w-0"})]}),h&&s&&d.jsx(qa,{scrollToBottom:w,lengthOfUnreadMsgs:b})]})}));Yr.displayName="MessageList";const eo=y.forwardRef(({handleScroll:t,children:e},r)=>d.jsx("div",{style:{marginTop:56,width:"100%",height:"calc(100% - 152px)",overflow:"hidden"},children:d.jsx("div",{id:se.Scrollbars,ref:r,style:{width:"100%",height:"100%",overflowY:"scroll"},onScroll:t,children:e})})),Xr=E.createContext({}),Kr=!0;function to({baseColor:t,highlightColor:e,width:r,height:n,borderRadius:s,circle:a,direction:l,duration:u,enableAnimation:h=Kr}){const p={};return l==="rtl"&&(p["--animation-direction"]="reverse"),typeof u=="number"&&(p["--animation-duration"]=`${u}s`),h||(p["--pseudo-element-display"]="none"),(typeof r=="string"||typeof r=="number")&&(p.width=r),(typeof n=="string"||typeof n=="number")&&(p.height=n),(typeof s=="string"||typeof s=="number")&&(p.borderRadius=s),a&&(p.borderRadius="50%"),typeof t<"u"&&(p["--base-color"]=t),typeof e<"u"&&(p["--highlight-color"]=e),p}function ro({count:t=1,wrapper:e,className:r,containerClassName:n,containerTestId:s,circle:a=!1,style:l,...u}){var h,p,m;const g=E.useContext(Xr),b={...u};for(const[T,k]of Object.entries(u))typeof k>"u"&&delete b[T];const w={...g,...b,circle:a},v={...l,...to(w)};let P="react-loading-skeleton";r&&(P+=` ${r}`);const S=(h=w.inline)!==null&&h!==void 0?h:!1,x=[],O=Math.ceil(t);for(let T=0;T<O;T++){let k=v;if(O>t&&T===O-1){const C=(p=k.width)!==null&&p!==void 0?p:"100%",G=t%1,$=typeof C=="number"?C*G:`calc(${C} * ${G})`;k={...k,width:$}}const I=E.createElement("span",{className:P,style:k,key:T},"â€Œ");S?x.push(I):x.push(E.createElement(E.Fragment,{key:T},I,E.createElement("br",null)))}return E.createElement("span",{className:n,"data-testid":s,"aria-live":"polite","aria-busy":(m=w.enableAnimation)!==null&&m!==void 0?m:Kr},e?x.map((T,k)=>E.createElement(e,{key:k},T)):x)}function no({children:t,...e}){return E.createElement(Xr.Provider,{value:e},t)}const qr=y.memo(({isLoadedContent:t})=>{const{heightWindow:e}=We(),r=e-56-96,n=Math.floor(r/90),s=()=>Math.random()<.5?"justify-start":"justify-end";return d.jsx(d.Fragment,{children:!t&&d.jsx("div",{id:se.Skeleton,className:"absolute left-1/2 z-10 w-full -translate-x-1/2 transform xl:w-8/12",style:{top:56,height:"calc(100% - 56px - 96px)",padding:16},children:d.jsx(no,{baseColor:"#e9e5e580",highlightColor:"#444",children:Array.from({length:n},(a,l)=>d.jsx("div",{className:`flex ${s()}`,children:d.jsx(ro,{count:1,inline:!0,width:120,height:80,borderRadius:8})},l))})})})});qr.displayName="MessagesSkeleton";const _t=(t,e)=>{const r={...t};for(const n in e)r[n]?r[n]=[...r[n],...e[n]]:r[n]=e[n];return r},qe=t=>t.toDate().toISOString().split("T")[0],Qr=(t,e,r,n)=>{const s={...t};if(n==="add")s[e]?s[e].push(r):s[e]=[r];else if(n==="modify"){const a=s[e].findIndex(l=>l.id===r.id);a!==-1&&(s[e]=[...s[e].slice(0,a),r,...s[e].slice(a+1)])}else n==="remove"&&(s[e]=s[e].filter(a=>a.id!==r.id),s[e].length===0&&delete s[e]);return s},io=(t,e)=>{const r=t.doc.data();if(r!=null&&r.date){const n=qe(r.date),s=t.doc.id,a={[n]:[t.doc]};e(l=>l&&Object.values(l)[0].some(u=>u.id===s)?l:_t(l,a))}},so=(t,e)=>{const r=t.doc.data();if(r!=null&&r.date){const n=qe(r.date),s=t.doc.id,a={[n]:[t.doc]};e(l=>{var u;if(l&&Object.keys(l).length!==0){const h=(u=Object.values(l)[0][0])==null?void 0:u.id;if(s===h)return l}return _t(l,a)})}},ao=(t,e)=>{const r=t.doc.data();if(r!=null&&r.date){const n=qe(r.date),s=t.doc;e(a=>a&&Qr(a,n,s,"modify"))}},oo=(t,e)=>{const r=t.doc.data();if(r!=null&&r.date){const n=qe(r.date);e(s=>s&&Qr(s,n,t.doc,"remove"))}},lo=t=>{const{chatUID:e}=_(r=>r.currentChatInfo);y.useEffect(()=>{if(e===null)return;const r=ft(Be(de,`chats/${e}/messages`),mt("date","desc")),n=Xt(r,s=>{s.docChanges().forEach(a=>{if(a.type==="added"){const l=s.size===1&&s.docChanges().length===1;s.size!==1&&s.docChanges().length===1?io(a,t):l&&so(a,t)}else a.type==="modified"?ao(a,t):a.type==="removed"&&oo(a,t)})});return()=>{n()}},[e,t])},co=t=>{const e=ft(Be(de,`chats/${t}/messages`),mt("date","desc"),qt(20));return Qt(e)},uo=(t,e,r,n)=>{const{chatUID:s}=_(a=>a.currentChatInfo);y.useEffect(()=>{if(t.current===!1)return;(async l=>{if(l)try{const u=await co(l);if(u.empty)n({}),e.current=null,r(!0);else{const h=u.docs,p=h[h.length-1];e.current=p;const m=h.reduce((w,v)=>{const P=v.data();if(P!=null&&P.date){const x=P.date.toDate().toISOString().split("T")[0];w[x]=w[x]||[],w[x].push(v)}return w},{}),g=Object.entries(m);g.forEach(w=>w[1].reverse()),g.sort(([w],[v])=>new Date(w).getTime()-new Date(v).getTime());const b=Object.fromEntries(g);n(b),r(!0),t.current=!1}}catch(u){console.error("fetchFirstMsgs error",u)}})(s)},[s,t,e,n,r])},ho=()=>{const{chatUID:t}=_(e=>e.currentChatInfo);y.useEffect(()=>(t&&localStorage.setItem("currentChatId",t),()=>{localStorage.removeItem("currentChatId")}),[t])},po=(t,e,r,n,s)=>{const{chatUID:a}=_(l=>l.currentChatInfo);y.useEffect(()=>{t.current=!0,e.current=null,r.current=!1,s(null),n(!1)},[a,r,t,e,s,n])},fo=()=>{const{chatUID:t}=_(l=>l.currentChatInfo),e=_(l=>l.isSelectedMessages),r=_(l=>l.selectedDocDataMessage),n=_(l=>l.updateSelectedDocDataMessage),s=_(l=>l.resetSelectedMessages),a=_(l=>l.updateIsSelectedMessages);y.useEffect(()=>{e||n(null)},[e,n]),y.useEffect(()=>{r===null&&a(!1)},[r,a]),y.useEffect(()=>{s()},[t,s])},mo=(t,e,r)=>{const n=t.getBoundingClientRect(),s=(n==null?void 0:n.top)??0,a=(n==null?void 0:n.left)??0,l=224,u=224,h=e-a+l>t.clientWidth?e-a-l-13:e-a-13;return{top:r-s+u>t.clientHeight?r-s-u+70-50:r-s+60-50,left:h}},yo=y.lazy(()=>A(()=>import("./ModalMessageContextMenu-da954758.js"),["assets/ModalMessageContextMenu-da954758.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/useCloseModal-32ba7e76.js"])),go=y.lazy(()=>A(()=>import("./ChatContextMenu-3cf60095.js"),["assets/ChatContextMenu-3cf60095.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/sprite-f89b8981.js","assets/DeleteButton-b055a107.js","assets/useCloseModal-32ba7e76.js","assets/FileInput-5d4d35cc.js","assets/useResizeWindow-7f7b4e96.js","assets/convertTimeWithZero-0e4ead24.js"])),bo=()=>{const[t,e]=y.useState(null),[r,n]=y.useState(!1),[s,a]=y.useState(!1),[l,u]=y.useState({top:0,left:0}),h=y.useRef(null),p=y.useRef(null),m=y.useRef(null),g=y.useRef(!0),b=y.useRef(!1),w=y.useRef(null),v=y.useRef(!1),{chatUID:P}=_(M=>M.currentChatInfo),S=_(M=>M.isSelectedMessages),x=_(M=>M.updateIsSelectedMessages),O=_(M=>M.selectedDocDataMessage),T=_(M=>M.updateSelectedDocDataMessage),k=_(M=>M.resetSelectedMessages),I=y.useDeferredValue(t&&O);fo(),lo(e),ho(),po(g,w,v,n,e),uo(g,w,n,e);const C=y.useCallback(async()=>{if(m.current)return;const L=async()=>{var B;if(b.current)return;b.current=!0;const Y=ft(Be(de,`chats/${P}/messages`),mt("date","desc"),cn(w.current),qt(15)),ce=await Qt(Y);if(ce.empty)v.current=!0;else{const ue=ce.docs,Ce=ue[ue.length-1];if(((B=w.current)==null?void 0:B.id)===Ce.id)return;w.current=Ce;const X=ue.reduce((ne,ge)=>{const V=ge.data();if(V!=null&&V.date){const Oe=V.date.toDate().toISOString().split("T")[0];ne[Oe]=ne[Oe]||[],ne[Oe].push(ge)}return ne},{}),he=Object.entries(X);he.forEach(ne=>ne[1].reverse()),he.sort(([ne],[ge])=>new Date(ne).getTime()-new Date(ge).getTime());const ee=Object.fromEntries(he);e(ne=>_t(ee,ne))}};m.current=setTimeout(async()=>{var X,he,ee;m.current=null;const Y=((X=h.current)==null?void 0:X.scrollHeight)||0,ce=((he=h.current)==null?void 0:he.clientHeight)||0,B=((ee=h.current)==null?void 0:ee.scrollTop)||0,ue=Y-B-ce>100;B<=700&&s&&v.current===!1&&(await L(),b.current=!1),a(ue)},100)},[P,s]),G=y.useCallback((M,L)=>{L.preventDefault();const Y=document.getElementById(se.Scrollbars);S&&x(!1);const{clientX:ce,clientY:B}=L;u(mo(Y,ce,B)),O!==null&&O.find(ue=>ue.id===M.id)!==void 0?T(null):T([M])},[S,O,x,T]),$=y.useCallback(M=>{O!=null&&O.find(L=>L.id===M.id)?T(L=>{const Y=L==null?void 0:L.filter(ce=>ce.id!==M.id);return(Y==null?void 0:Y.length)===0?null:Y??null}):T(L=>L===null?[M]:[...L,M])},[O,T]),re=M=>{M&&M.target instanceof Element&&M.target.id&&S||O!==null&&k()};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"h-full w-full py-1",onClick:re,children:[d.jsx(eo,{ref:h,handleScroll:C,children:d.jsx(Yr,{chatUID:P,groupedMessages:t,isReadyFirstMsgs:r,selectedDocDataMessage:O,isScrollDownButtonVisible:s,handleClickRigthButtonMessage:G,handleToggleSelectedMessage:$,ref:p})}),d.jsx(qr,{isLoadedContent:r})]}),I&&d.jsx(y.Suspense,{fallback:d.jsx("div",{className:"pointer-events-none z-10 h-screen w-screen bg-transparent",style:{position:"absolute",top:l.top+"px",left:l.left+"px"},children:d.jsx("div",{className:"pointer-events-auto h-56 w-56 rounded-3xl bg-mediumDarkZincOpacity10 p-2",children:d.jsx(me,{size:200})})}),children:d.jsx(yo,{closeModal:re,modalPosition:l,children:d.jsx(go,{groupedMessages:t})})})]})},vo=y.lazy(()=>A(()=>import("./SearchMessages-6945a4a8.js"),["assets/SearchMessages-6945a4a8.js","assets/index-1dbf5670.js","assets/index-9c0f48c4.css","assets/useResizeWindow-7f7b4e96.js","assets/SearchInput-5de5fbd4.js","assets/sprite-f89b8981.js"])),wo=()=>{const[t,e]=y.useState(!1),{heightWindow:r}=We();return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative w-full overflow-hidden bg-transparent xl:flex xl:flex-col xl:items-center",style:{height:r},children:[d.jsx(Bn,{setIsShowSearchMessages:e}),d.jsx(bo,{}),d.jsx($n,{isShowSearchMessages:t})]}),t&&d.jsx("div",{className:"absolute right-0 top-0 z-10 h-full w-2/3 border-l border-ultraDarkZinc bg-main p-2 dark:bg-mainBlack md:w-2/4",children:d.jsx(y.Suspense,{fallback:d.jsx(me,{size:50}),children:d.jsx(vo,{setIsShowSearchMessages:e})})})]})},So=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"}));export{So as C,zr as F,tr as M,va as d,jn as m,zi as p,Ln as r,Ge as u};
